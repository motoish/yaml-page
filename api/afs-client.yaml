openapi: 3.0.3
info:
  title: afs-client-api
  version: 0.0.1
  description: |
    AFS client向けAPI。
servers:
  - url: 'https://api.dev.wm.myquick.net'
    description: '野村AM開発'
  - url: 'https://api.development.wm.myquick.net'
    description: 'マルチテナント開発'

paths:
  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
    get:
      parameters:
        - in: query
          name: offset
          description: |
            指定した数だけ出力するレコードをスキップして、レコードが返されます。
          schema:
            type: number
            default: 0
            minimum: 0
            maximum: 500
          required: false
        - in: query
          name: limit
          description: |
            指定した数だけレコードが返されます。
          schema:
            type: number
            default: 100
            minimum: 1
            maximum: 300
          required: false
        - in: query
          name: is_contract_fetched
          description: |
            契約情報を取得しますかを指定します。
          schema:
            type: boolean
          required: false
        - in: query
          name: is_after_follow_filtered
          description: |
            アフターフォロー未実施をフィルターしますかを指定します。
          schema:
            type: boolean
          required: false
        - in: query
          name: is_display_filtered
          description: |
            表示対象をフィルターしますかを指定します。
          schema:
            type: boolean
          required: false
        - in: query
          name: customer_code
          description: |
            顧客コードをフィルター条件を指定します。
          schema:
            type: string
          required: false
      summary: FAが担当する顧客一覧の取得。
      description: |
        FAが担当する顧客一覧を取得する。
      tags:
        - 顧客情報
      operationId: get-fas-fa-id-customers
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            FAが担当する顧客一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FaCustomerListResponse'
              examples:
                顧客が存在しない場合:
                  value:
                    customers: []
                    total_customers: 0
                    alert_and_after_follow_summary: {}
                個人顧客が存在する場合:
                  value:
                    customers:
                      - customer_uuid: '21135982-a2a5-41ed-a9a1-17e74a6debb0'
                        customer_name: '田中 太郎'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '36df0e07-edbd-4f14-84f2-f332903b104e'
                        today_anniversaries:
                          - 顧客誕生日
                          - 長女誕生日
                        type: 'personal'
                        after_follow_status: 'done'
                        after_follow_type: 'meeting'
                        account_status: '8'
                        has_valid_contract: true
                        is_alerted: false
                        is_agent_changed: false
                        customer_code: '0000000'
                    total_customers: 1
                    alert_and_after_follow_summary:
                      achievement_probability_danger_zone: 3
                      nearing_goal: 0
                      failure_and_unsuccess: 1
                      after_follow: 1
                法人顧客が存在する場合:
                  value:
                    customers:
                      - customer_uuid: '21135982-a2a5-41ed-a9a1-17e74a6debb0'
                        customer_name: 'タナカ製作所株式会社'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '36df0e07-edbd-4f14-84f2-f332903b104e'
                        today_anniversaries:
                          - 設立記念日
                        type: 'corporate'
                        after_follow_status: 'not_done'
                        after_follow_type: 'none'
                        account_status: '8'
                        has_valid_contract: true
                        is_alerted: true
                        is_agent_changed: true
                        customer_code: '9999999'
                    total_customers: 1
                    alert_and_after_follow_summary:
                      achievement_probability_danger_zone: 3
                      nearing_goal: 0
                      failure_and_unsuccess: 1
                      after_follow: 1
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    post:
      summary: FAが担当する見込み顧客の作成。
      description: |
        FAが担当する見込み顧客を作成する。
      tags:
        - 顧客情報 / 個人顧客
      operationId: post-fas-fa-id-customers
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerCreationRequest'
      responses:
        '201':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    put:
      summary: FAが担当する個人顧客情報を更新。
      description: |
        FAが担当する個人顧客情報を更新する。
      tags:
        - 顧客情報 / 個人顧客
      operationId: put-fas-fa-id-customers-customer-uuid
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/corporate-customers':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
    post:
      summary: FAが担当する見込み法人顧客の作成。
      description: |
        FAが担当する見込み法人顧客を作成する。
      tags:
        - 顧客情報 / 法人顧客
      operationId: post-fas-fa-id-corporate-customers
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CorporateCustomerCreationRequest'
      responses:
        '201':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CorporateCustomerCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/corporate-customers/{customer_uuid}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    put:
      summary: FAが担当する法人顧客情報を更新。
      description: |
        FAが担当する法人顧客情報を更新する。
      tags:
        - 顧客情報 / 法人顧客
      operationId: put-fas-fa-id-corporate-customers-customer-uuid
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CorporateCustomerUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/risk-tolerance':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    put:
      summary: リスク許容度結果の保存
      description: |
        顧客のリスク許容度結果を保存する。
      tags:
        - リスク許容度診断
      operationId: put-customers-risk-tolerance
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RiskToleranceCreationAndUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    get:
      summary: リスク許容度結果の取得
      description: |
        個人顧客のリスク許容度結果を取得。
      tags:
        - リスク許容度診断
      operationId: get-customer-risk-tolerance
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskToleranceDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/RtqNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/risk-tolerance/questions':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    get:
      parameters:
        - in: query
          name: answers
          description: |
            リスク許容度診断の解答
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      summary: リスク許容度診断設問の取得
      description: |
        顧客のリスク許容度診断の次の設問を取得。
      tags:
        - リスク許容度診断 / 設問取得
      operationId: get-risk-tolerance-questions
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskToleranceQuestionsResponse'
              examples:
                1問目:
                  value:
                    question_text: '投資経験・知識として、当てはまるものを選択してください。'
                    question_image_base64: null
                    is_completed: false
                    answer_choices:
                      - answer_no: 'A1-1'
                        answer_text: 'A. 金融資産は預貯金等が中心で、投資経験や知識はあまり豊富ではない。'
                      - answer_no: 'A1-2'
                        answer_text: 'B. 株式や投資信託等への投資経験があり、ある程度の知識がある。'
                      - answer_no: 'A1-3'
                        answer_text: 'C. 投資経験・知識は豊富である。'
                次の設問が無い場合:
                  value:
                    is_completed: true
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/risk-levels':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    get:
      summary: 顧客のゴールで利用出来るリスクレベルを取得
      description: |
        顧客のゴールで利用出来るリスクレベルを取得する。
      tags:
        - リスク許容度診断 / 利用可能なリスクレベルを取得
      parameters:
        - in: query
          name: percentage_in_financial_assets_over
          description: |
            金融資産における割合の下限(%)。
          required: true
          schema:
            $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        - in: query
          name: percentage_in_financial_assets_under
          description: |
            金融資産における割合の上限(%)。
          required: true
          schema:
            $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        - in: query
          name: month_period
          description: |
            全体の運用期間(月)。
          required: true
          schema:
            $ref: '#/components/schemas/RiskTolerancePeriodMonths'
      operationId: get-risk-level
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RiskToleranceResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/RtqNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/note':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    put:
      summary: 顧客のメモを作成または更新。
      description: |
        顧客のメモを作成または更新する。
      tags:
        - 顧客情報 / 顧客のメモ
      operationId: put-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-note
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerNoteCreationAndUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/UnauthorizedResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客のメモを取得
      description: |
        顧客のメモを取得する。
      tags:
        - 顧客情報 / 顧客のメモ
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-note
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            顧客のメモを取得する。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerNoteDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    get:
      summary: 顧客のゴール一覧。
      description: |
        顧客のゴール一覧を表示する。
      tags:
        - ゴール
      operationId: get-fas-fa-id-customers-customer-uuid-goals
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            顧客のゴール一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalListResponse'
              examples:
                顧客がゴールを保持しない場合:
                  value:
                    risk_tolerance_date: ''
                    goals: []
                顧客がゴールを保持する場合:
                  value:
                    risk_tolerance_date: '2021-06-21T00:00:00.000Z'
                    goals:
                      - type: 'education'
                        name: '長女の大学入学'
                        importance: 4
                        completed_at: '2024-05-06T00:00:00.000Z'
                        starts_at: '2020-04-01T00:00:00.000Z'
                        goal_id: 'bbcf7892-2daa-4914-a0e0-41f34206083d'
                        plan_type: 'deferral_withdrawal'
                        created_at: '2018-04-01T00:00:00.000Z'
                        achievement_probability: 88
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                        contract_class: '1'
                        application_status: 'waiting_for_application'
                        risk_level: 3
                        contract_status: 'before_contract'
                      - type: 'education'
                        name: '次女の大学入学'
                        completed_at: '2027-05-06T00:00:00.000Z'
                        starts_at: '2023-04-01T00:00:00.000Z'
                        goal_id: 'dd7a8819-c1aa-48b5-9a68-ad31ded4686f'
                        plan_type: 'deferral'
                        created_at: '2018-04-01T00:00:00.000Z'
                        achievement_probability: 88
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '821887d0-e17d-48b8-8386-fcaddebed9a0'
                        contract_class: '2'
                        application_status: 'waiting_for_application'
                        risk_level: 3
                        contract_status: 'before_contract'
                      - type: 'retirement_plan'
                        name: '充実したセカンドライフ'
                        completed_at: '2045-05-06T00:00:00.000Z'
                        starts_at: '2030-04-01T00:00:00.000Z'
                        goal_id: '919db7c9-624d-4a78-b61b-456cb9056dcb'
                        plan_type: 'withdrawal'
                        created_at: '2017-04-01T00:00:00.000Z'
                        achievement_probability: 88
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: 'd3beea26-9c71-496d-8281-0e42a3de70de'
                        contract_class: '1'
                        application_status: 'waiting_for_application'
                        risk_level: 3
                        contract_status: 'before_contract'
                      - type: 'renovation'
                        name: 'セカンドライフに向けたリフォーム'
                        completed_at: ''
                        starts_at: ''
                        goal_id: '575c3143-abb4-4a90-9909-801844113de6'
                        plan_type: ''
                        created_at: '2019-04-01T00:00:00.000Z'
                        achievement_probability: null
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: 'c053fda6-e178-4e66-9e60-f791056bb501'
                        contract_class: null
                        application_status: 'waiting_for_application'
                        risk_level: 3
                        contract_status: 'on_contract_application'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  /goals/{goal_id}/asset-management-plan:
    $ref: ./paths/goal.yaml#/paths/~1goals~1{goal_id}~1asset-management-plan

  /goals/{goal_id}/available-plans:
    $ref: ./paths/goal.yaml#/paths/~1goals~1{goal_id}~1available-plans

  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/document-upload-urls:
    $ref: ./paths/document-upload-urls.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1branches~1{branch_id}~1fas~1{fa_id}~1customers~1{customer_uuid}~1document-upload-urls

  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/documents:
    $ref: './paths/documents.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1branches~1{branch_id}~1fas~1{fa_id}~1customers~1{customer_uuid}~1documents'

  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/documents/{document_name}:
    $ref: './paths/documents.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1branches~1{branch_id}~1fas~1{fa_id}~1customers~1{customer_uuid}~1documents~1{document_name}'

  /tenants/{tenant_id}/documents/{document_name}:
    $ref: './paths/documents.yaml#/paths/~1customers~1goals~1documents~1{document_name}'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/retirement-plans':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 顧客のセカンドライフを保存。
      description: |
        顧客のセカンドライフを保存する。
      tags:
        - ゴール / セカンドライフ
      operationId: post-fas-fa-id-customers-customer-uuid-goals-retirement-plans
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RetirementPlanCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            顧客のセカンドライフ。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/retirement-plans/{goal_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 顧客のセカンドライフを更新。
      description: |
        顧客のセカンドライフを更新する。
      tags:
        - ゴール / セカンドライフ
      operationId: post-fas-fa-id-customers-customer-uuid-goals-retirement-plans-goal-id
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RetirementPlanCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客のセカンドライフ詳細。
      description: |
        顧客のセカンドライフ詳細を返却する。
      tags:
        - ゴール / セカンドライフ
      operationId: get-fas-fa-id-customers-customer-uuid-goals-retirement-plans-goal-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            顧客のセカンドライフ詳細。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetirementPlanDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    delete:
      summary: 顧客のセカンドライフのゴールを削除。
      description: |
        顧客のセカンドライフのゴールを削除する。
      tags:
        - ゴール / セカンドライフ
      operationId: delete-fas-fa-id-customers-customer-uuid-goals-retirement-plans-goal-id
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/educations':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 顧客の教育ゴールを保存。
      description: |
        顧客の教育ゴールを保存する。
      tags:
        - ゴール / 教育
      operationId: post-fas-fa-id-customers-customer-uuid-goals-educations
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EducationCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            顧客の教育ゴール。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/educations/{goal_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 顧客の教育ゴールを更新。
      description: |
        顧客の教育ゴールを更新する。
      tags:
        - ゴール / 教育
      operationId: put-fas-fa-id-customers-customer-uuid-goals-educations-goal-id
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EducationCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客の教育ゴールの詳細。
      description: |
        顧客の教育ゴール詳細を返却する。
      tags:
        - ゴール / 教育
      operationId: get-fas-fa-id-customers-customer-uuid-goals-educations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            顧客の教育ゴール詳細。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EducationDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    delete:
      summary: 顧客の教育ゴールを削除。
      description: |
        顧客の教育ゴールを削除する。
      tags:
        - ゴール / 教育
      operationId: delete-fas-fa-id-customers-customer-uuid-goals-educations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/renovations':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 顧客の住宅リフォームのゴールを保存。
      description: |
        顧客の住宅リフォームのゴールを保存する。
      tags:
        - ゴール / 住宅リフォーム
      operationId: post-fas-fa-id-customers-customer-uuid-goals-renovations
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RenovationCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            顧客の住宅リフォームのゴール。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/renovations/{goal_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 顧客の住宅リフォームのゴールを更新。
      description: |
        顧客の住宅リフォームのゴールを更新する。
      tags:
        - ゴール / 住宅リフォーム
      operationId: put-fas-fa-id-customers-customer-uuid-goals-renovations-goal-id
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RenovationCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客の住宅リフォームのゴールの詳細。
      description: |
        顧客の住宅リフォームのゴール詳細を返却する。
      tags:
        - ゴール / 住宅リフォーム
      operationId: get-fas-fa-id-customers-customer-uuid-goals-renovations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            顧客の住宅リフォームのゴール詳細。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RenovationDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    delete:
      summary: 顧客の住宅リフォームのゴールを削除。
      description: |
        顧客の住宅リフォームのゴールを削除する。
      tags:
        - ゴール / 住宅リフォーム
      operationId: delete-fas-fa-id-customers-customer-uuid-goals-renovations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/donations':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 顧客の寄付の目的を保存。
      description: |
        顧客の寄付の目的を保存する。
      tags:
        - ゴール / 寄付
      operationId: post-fas-fa-id-customers-customer-uuid-goals-donations
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            顧客の寄付の目的。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/donations/{goal_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 顧客の寄付の目的を更新。
      description: |
        顧客の寄付の目的を更新する。
      tags:
        - ゴール / 寄付
      operationId: put-fas-fa-id-customers-customer-uuid-goals-donations-goal-id
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客の寄付の目的。
      description: |
        顧客の寄付の目的を返却する。
      tags:
        - ゴール / 寄付
      operationId: get-fas-fa-id-customers-customer-uuid-goals-donations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            顧客の寄付の目的。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    delete:
      summary: 顧客の寄付のゴールを削除。
      description: |
        顧客の寄付のゴールを削除する。
      tags:
        - ゴール / 寄付
      operationId: delete-fas-fa-id-customers-customer-uuid-goals-donations-goal-id
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/investments':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 顧客の投資の目的を保存。
      description: |
        顧客の投資の目的を保存する。
      tags:
        - ゴール / 投資
      operationId: post-fas-fa-id-customers-customer-uuid-goals-investments
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InvestmentCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            顧客の投資の目的。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoalCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/investments/{goal_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 顧客の投資の目的を更新。
      description: |
        顧客の投資の目的を更新する。
      tags:
        - ゴール / 投資
      operationId: put-fas-fa-id-customers-customer-uuid-goals-investments-goal-id
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InvestmentCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 顧客の投資の目的。
      description: |
        顧客の投資の目的を返却する。
      tags:
        - ゴール / 投資
      operationId: get-fas-fa-id-customers-customer-uuid-goals-investments-goal-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            顧客の投資の目的。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvestmentDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    delete:
      summary: 顧客の投資のゴールを削除。
      description: |
        顧客の投資のゴールを削除する。
      tags:
        - ゴール / 投資
      operationId: delete-fas-fa-id-customers-customer-uuid-goals-investments-goal-id
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/deferral-withdrawal':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 据置・引出の運用プランを作成または更新。
      description: |
        据置・引出の運用プランを作成または更新する。
      tags:
        - 運用プラン / 据置・引出
      operationId: put-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral-withdrawal
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeferralWithdrawalCreationAndUpdateRequest'
      responses:
        '200':
          description: |
            リクエスト成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetManagementPlanCreationAndUpdateResponse'
              examples:
                契約判定NGの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: false
                      is_modified: false
                      is_valid_modified_period: false
                契約判定OKの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: true
                      is_modified: true
                      is_valid_modified_period: true
                見直しの計画が契約中の内容と同一になった場合:
                  value:
                    is_revise_deleted: true

        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 据置・引出の運用プラン詳細。
      description: |
        据置・引出の運用プラン詳細を返却する。
      tags:
        - 運用プラン / 据置・引出
      operationId: get-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral-withdrawal
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            据置・引出の運用プラン。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeferralWithdrawalDetailResponse'
              examples:
                運用プランが存在しない場合:
                  value:
                    goal_amount: null
                    initial_investment: null
                    withdrawal_period_years: null
                    withdrawal_period_months: null
                    withdrawal_start_year: null
                    withdrawal_start_month: null
                    withdrawal_frequency: ''
                    withdrawal_amount: null
                    asset_management_period_years: null
                    asset_management_period_months: null
                    asset_management_start_year: null
                    asset_management_start_month: null
                    fluctuation_funds_type: ''
                    fluctuation_funds_amount: null
                    current_price: null
                    risk_levels: null
                    goal_type: retirement_plan
                    name: 充実したセカンドライフ
                    starts_at: 65
                    scheduled_for: 20
                    living_expenses:
                      type: details
                      details:
                        - name: 食費
                          amounts: 40000
                        - name: 固定費
                          amounts: 40000
                      total_amounts: 164000
                      increasing_rate:
                        type: optimistic
                        rate: 0.5
                    basic_pension_amounts: 780000
                    welfare_pension_amounts: 780000
                    private_pensions:
                      - type: pension
                        name: 確定拠出年金
                        amounts: 1440000
                        receiving_age: 65
                        period: 10
                      - type: lump_sum
                        name: 三日月生命年金保険
                        amounts: 1440000
                        receiving_age: 65
                        period: null
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null

                ゴールタイプがセカンドライフの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 10000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 15
                    asset_management_period_months: 10
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: retirement_plan
                    name: 充実したセカンドライフ
                    starts_at: 65
                    scheduled_for: 20
                    living_expenses:
                      type: details
                      details:
                        - name: 食費
                          amounts: 40000
                        - name: 固定費
                          amounts: 40000
                      total_amounts: 164000
                      increasing_rate:
                        type: optimistic
                        rate: 0.5
                    basic_pension_amounts: 780000
                    welfare_pension_amounts: 780000
                    private_pensions:
                      - type: pension
                        name: 確定拠出年金
                        amounts: 1440000
                        receiving_age: 65
                        period: 10
                      - type: lump_sum
                        name: 三日月生命年金保険
                        amounts: 1440000
                        receiving_age: 65
                        period: null
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプがリフォームの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 10000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 15
                    asset_management_period_months: 10
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: renovation
                    name: 'すてきなリフォーム'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: 2030
                    renovation_scheduled_time_month: 6
                    renovation_amounts:
                      kitchen_repair_amounts: 60000000
                      bath_repair_amounts: 300000
                      toilet_repair_amounts: 12000000
                      washbasin_repair_amounts: 780000
                      change_floor_plan_amounts: 0
                      wallpaper_replacement_amounts: 600000
                      floor_heating_amounts: 0
                    other_renovations:
                      - name: 給湯器入れ替え
                        amounts: 200000
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが教育の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 10000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 15
                    asset_management_period_months: 10
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: education
                    name: 長女の大学入学
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: 2030
                    school_start_month: 6
                    first_choice_school:
                      school_entrance_fee: 300000
                      school_fee: 1100000
                      school_period_years: 4
                    back_up_school:
                      contribution_amounts: 400000
                      back_up_school_number: 1
                    remittance:
                      remittance_monthly_amount: 150000
                      remittance_period_years: 4

                ゴールタイプが投資の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 10000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 15
                    asset_management_period_months: 10
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: investment
                    name: '資産を運用で増やす'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが寄付の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 10000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 15
                    asset_management_period_months: 10
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: donation
                    name: '資産を寄付する'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/deferral':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 据置の運用プランを作成または更新。
      description: |
        据置の運用プランを作成または更新する。
      tags:
        - 運用プラン / 据置
      operationId: put-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeferralCreationAndUpdateRequest'
      responses:
        '200':
          description: |
            リクエスト成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetManagementPlanCreationAndUpdateResponse'
              examples:
                契約判定NGの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: false
                      is_modified: false
                      is_valid_modified_period: false
                契約判定OKの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: true
                      is_modified: true
                      is_valid_modified_period: true
                見直しの計画が契約中の内容と同一になった場合:
                  value:
                    is_revise_deleted: true
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 据置の運用プラン詳細。
      description: |
        据置の運用プラン詳細を返却する。
      tags:
        - 運用プラン / 据置
      operationId: get-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            据置の運用プラン。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeferralDetailResponse'
              examples:
                ゴールタイプがセカンドライフの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    funds_source: '預貯金'
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: retirement_plan
                    name: 充実したセカンドライフ
                    starts_at: 65
                    scheduled_for: 20
                    living_expenses:
                      type: details
                      details:
                        - name: 食費
                          amounts: 40000
                        - name: 固定費
                          amounts: 40000
                      total_amounts: 164000
                      increasing_rate:
                        type: optimistic
                        rate: 0.5
                    basic_pension_amounts: 780000
                    welfare_pension_amounts: 780000
                    private_pensions:
                      - type: pension
                        name: 確定拠出年金
                        amounts: 1440000
                        receiving_age: 65
                        period: 10
                      - type: lump_sum
                        name: 三日月生命年金保険
                        amounts: 1440000
                        receiving_age: 65
                        period: null
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプがリフォームの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    funds_source: '預貯金'
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: renovation
                    name: ''
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: 2030
                    renovation_scheduled_time_month: 6
                    renovation_amounts:
                      kitchen_repair_amounts: 60000000
                      bath_repair_amounts: 300000
                      toilet_repair_amounts: 12000000
                      washbasin_repair_amounts: 780000
                      change_floor_plan_amounts: 0
                      wallpaper_replacement_amounts: 600000
                      floor_heating_amounts: 0
                    other_renovations:
                      - name: 給湯器入れ替え
                        amounts: 200000
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが教育の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    funds_source: '預貯金'
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: education
                    name: 長女の大学入学
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: 2030
                    school_start_month: 6
                    first_choice_school:
                      school_entrance_fee: 300000
                      school_fee: 1100000
                      school_period_years: 4
                    back_up_school:
                      contribution_amounts: 400000
                      back_up_school_number: 1
                    remittance:
                      remittance_monthly_amount: 150000
                      remittance_period_years: 4

                ゴールタイプが投資の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    funds_source: '預貯金'
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: investment
                    name: '資産を運用で増やす'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが寄付の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    funds_source: '預貯金'
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: donation
                    name: '資産を寄付する'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/reserve':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 積立の運用プランを作成または更新。
      description: |
        積立の運用プランを作成または更新する。
      tags:
        - 運用プラン / 積立
      operationId: put-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveCreationAndUpdateRequest'
      responses:
        '200':
          description: |
            リクエスト成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetManagementPlanCreationAndUpdateResponse'
              examples:
                契約判定NGの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: false
                      is_modified: false
                      is_valid_modified_period: false
                契約判定OKの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: true
                      is_modified: true
                      is_valid_modified_period: true
                見直しの計画が契約中の内容と同一になった場合:
                  value:
                    is_revise_deleted: true
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 積立の運用プラン詳細。
      description: |
        積立の運用プラン詳細を返却する。
      tags:
        - 運用プラン / 積立
      operationId: get-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            積立の運用プラン。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReserveDetailResponse'
              examples:
                ゴールタイプがセカンドライフの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: retirement_plan
                    name: 充実したセカンドライフ
                    starts_at: 65
                    scheduled_for: 20
                    living_expenses:
                      type: details
                      details:
                        - name: 食費
                          amounts: 40000
                        - name: 固定費
                          amounts: 40000
                      total_amounts: 164000
                      increasing_rate:
                        type: optimistic
                        rate: 0.5
                    basic_pension_amounts: 780000
                    welfare_pension_amounts: 780000
                    private_pensions:
                      - type: pension
                        name: 確定拠出年金
                        amounts: 1440000
                        receiving_age: 65
                        period: 10
                      - type: lump_sum
                        name: 三日月生命年金保険
                        amounts: 1440000
                        receiving_age: 65
                        period: null
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプがリフォームの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: renovation
                    name: 'すてきなリフォーム'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: 2030
                    renovation_scheduled_time_month: 6
                    renovation_amounts:
                      kitchen_repair_amounts: 60000000
                      bath_repair_amounts: 300000
                      toilet_repair_amounts: 12000000
                      washbasin_repair_amounts: 780000
                      change_floor_plan_amounts: 0
                      wallpaper_replacement_amounts: 600000
                      floor_heating_amounts: 0
                    other_renovations:
                      - name: 給湯器入れ替え
                        amounts: 200000
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが教育の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: education
                    name: 長女の大学入学
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: 2030
                    school_start_month: 6
                    first_choice_school:
                      school_entrance_fee: 300000
                      school_fee: 1100000
                      school_period_years: 4
                    back_up_school:
                      contribution_amounts: 400000
                      back_up_school_number: 1
                    remittance:
                      remittance_monthly_amount: 150000
                      remittance_period_years: 4

                ゴールタイプが投資の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: investment
                    name: '資産を運用で増やす'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが寄付の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: donation
                    name: '寄付がしたいから'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: null
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: null
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/reserve-deferral-withdrawal':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    put:
      summary: 積立・据置・引出の運用プランを作成または更新。
      description: |
        積立・据置・引出の運用プランを作成または更新する。
      tags:
        - 運用プラン / 積立・据置・引出
      operationId: put-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve-deferral-withdrawal
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveDeferralWithdrawalCreationAndUpdateRequest'
      responses:
        '200':
          description: |
            リクエスト成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetManagementPlanCreationAndUpdateResponse'
              examples:
                契約判定NGの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: false
                      is_modified: false
                      is_valid_modified_period: false
                契約判定OKの場合:
                  value:
                    contract_judgements:
                      is_risk_tolerance_questions_answered: true
                      is_not_goal_maximum: true
                      is_not_fund_conflicted: true
                      is_modified: true
                      is_valid_modified_period: true
                見直しの計画が契約中の内容と同一になった場合:
                  value:
                    is_revise_deleted: true
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 積立・据置・引出の運用プラン詳細。
      description: |
        積立・据置・引出の運用プラン詳細を返却する。
      tags:
        - 運用プラン / 積立・据置・引出
      operationId: get-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve-deferral-withdrawal
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            積立・据置・引出の運用プラン。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReserveDeferralWithdrawalDetailResponse'
              examples:
                ゴールタイプがセカンドライフの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: retirement_plan
                    name: 充実したセカンドライフ
                    starts_at: 65
                    scheduled_for: 20
                    living_expenses:
                      type: details
                      details:
                        - name: 食費
                          amounts: 40000
                        - name: 固定費
                          amounts: 40000
                      total_amounts: 164000
                      increasing_rate:
                        type: optimistic
                        rate: 0.5
                    basic_pension_amounts: 780000
                    welfare_pension_amounts: 780000
                    private_pensions:
                      - type: pension
                        name: 確定拠出年金
                        amounts: 1440000
                        receiving_age: 65
                        period: 10
                      - type: lump_sum
                        name: 三日月生命年金保険
                        amounts: 1440000
                        receiving_age: 65
                        period: null
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプがリフォームの場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: renovation
                    name: 'すてきなリフォーム'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: 2030
                    renovation_scheduled_time_month: 6
                    renovation_amounts:
                      kitchen_repair_amounts: 60000000
                      bath_repair_amounts: 300000
                      toilet_repair_amounts: 12000000
                      washbasin_repair_amounts: 780000
                      change_floor_plan_amounts: 0
                      wallpaper_replacement_amounts: 600000
                      floor_heating_amounts: 0
                    other_renovations:
                      - name: 給湯器入れ替え
                        amounts: 200000
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが教育の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: education
                    name: 長女の大学入学
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: 2030
                    school_start_month: 6
                    first_choice_school:
                      school_entrance_fee: 300000
                      school_fee: 1100000
                      school_period_years: 4
                    back_up_school:
                      contribution_amounts: 400000
                      back_up_school_number: 1
                    remittance:
                      remittance_monthly_amount: 150000
                      remittance_period_years: 4

                ゴールタイプが投資の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: investment
                    name: '資産を運用で増やす'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
                ゴールタイプが寄付の場合:
                  value:
                    goal_amount: 23000000
                    initial_investment: 4000000
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months:
                      - 6
                      - 12
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    current_price: 10000000
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    asset_management_period_years: 30
                    asset_management_period_months: 0
                    asset_management_start_year: 2021
                    asset_management_start_month: 8
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    reserve_period_years: 25
                    reserve_period_months: 0
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    risk_levels:
                      '1': 'available'
                      '2': 'available'
                      '3': 'selected'
                      '4': 'unavailable'
                      '5': 'unavailable'
                    goal_type: donation
                    name: '資産を寄付する'
                    starts_at: null
                    scheduled_for: null
                    living_expenses:
                      type: ''
                      details: []
                      total_amounts: null
                      increasing_rate:
                        type: ''
                        rate: null
                    basic_pension_amounts: null
                    welfare_pension_amounts: null
                    private_pensions: []
                    renovation_scheduled_time_year: null
                    renovation_scheduled_time_month: null
                    renovation_amounts:
                      kitchen_repair_amounts: null
                      bath_repair_amounts: null
                      toilet_repair_amounts: null
                      washbasin_repair_amounts: null
                      change_floor_plan_amounts: null
                      wallpaper_replacement_amounts: null
                      floor_heating_amounts: null
                    other_renovations: []
                    school_start_year: null
                    school_start_month: null
                    first_choice_school:
                      school_entrance_fee: null
                      school_fee: null
                      school_period_years: null
                    back_up_school:
                      contribution_amounts: null
                      back_up_school_number: null
                    remittance:
                      remittance_monthly_amount: null
                      remittance_period_years: null
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/revised':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    delete:
      summary: 運用プランの見直しデータの削除。
      description: |
        運用プランの見直しデータを削除する。
      tags:
        - 運用プラン
      operationId: put-fas-fa-id-customers-customer-uuid-goals-goal-id-revised
      security:
        - Branch/Fa: []
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/contract':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    get:
      summary: 運用プランに関わる契約情報を返却。
      description: |
        運用プランに関わる契約情報を返却する。
      tags:
        - 契約確認 / 運用プランに関わる契約情報
      operationId: get-fas-fa-id-customers-customer-uuid-goals-goal-id-contract
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            運用プランに関わる契約情報。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContractDetailResponse'
              examples:
                据置の場合:
                  value:
                    name: ゴールの目的(充実したセカンドライフなど)
                    plan_type: deferral
                    initial_investment: 8000000
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    funds_source: '預貯金'
                    goal_amount: 11300000
                    asset_management_period_years: 16
                    asset_management_period_months: 0
                    risk_level: 3
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    asset_management_start_year: 2022
                    asset_management_start_month: 4
                    reserve_status: null
                    withdrawal_status: null
                    new_nisa: null
                積立の場合:
                  value:
                    name: ゴールの目的(充実したセカンドライフなど)
                    plan_type: reserve
                    initial_investment: 8000000
                    funds_source: '預貯金'
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    goal_amount: 11300000
                    reserve_period_years: 15
                    reserve_period_months: 0
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months: [6, 12]
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    asset_management_period_years: 35
                    asset_management_period_months: 9
                    risk_level: 3
                    fluctuation_funds_type: 'decrease'
                    fluctuation_funds_amount: 5000000
                    asset_management_start_year: null
                    asset_management_start_month: null
                    reserve_status: 2
                    withdrawal_status: null
                    new_nisa: '1'
                据置・引出の場合:
                  value:
                    name: ゴールの目的(充実したセカンドライフなど)
                    plan_type: deferral_withdrawal
                    initial_investment: 10000000
                    goal_amount: 23000000
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    risk_level: 3
                    fluctuation_funds_type: 'increase'
                    fluctuation_funds_amount: 5000000
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    asset_management_start_year: 2022
                    asset_management_start_month: 4
                    reserve_status: null
                    withdrawal_status: null
                    funds_source: '預貯金'
                    new_nisa: '2'
                積立・据置・引出の場合:
                  value:
                    name: ゴールの目的(充実したセカンドライフなど)
                    plan_type: deferral_withdrawal
                    initial_investment: 10000000
                    goal_amount: 23000000
                    reserve_period_years: 15
                    reserve_period_months: 0
                    reserve_monthly_amount: 50000
                    increased_amount_at_bonus: 200000
                    bonus_months: [6, 12]
                    reserve_start_year: 2021
                    reserve_start_month: 8
                    withdrawal_period_years: 20
                    withdrawal_period_months: 0
                    withdrawal_frequency: 'monthly'
                    withdrawal_amount: 360000
                    withdrawal_start_year: 2037
                    withdrawal_start_month: 6
                    risk_level: 3
                    fluctuation_funds_type: 'decrease'
                    fluctuation_funds_amount: 5000000
                    percentage_in_financial_assets_over: 30
                    percentage_in_financial_assets_under: 50
                    asset_management_start_year: null
                    asset_management_start_month: null
                    reserve_status: 1
                    withdrawal_status: null
                    funds_source: '預貯金'
                    new_nisa: '1'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/after-follow':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    put:
      summary: アフターフォローの作成または更新。
      description: |
        アフターフォローを作成または更新する。
      tags:
        - アドバイスツール / アフターフォロー
      operationId: put-fas-fa-id-customers-customer-uuid-after-follow
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AfterFollowRequestAndResponse'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: アフターフォローの取得。
      description: |
        アフターフォローの種類を返却する。
      tags:
        - アドバイスツール / アフターフォロー
      operationId: get-fas-fa-id-customers-customer-uuid-after-follow
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            月ごとのアフターフォローの種類
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AfterFollowRequestAndResponse'
              examples:
                アフターフォローが未作成の場合:
                  description: アフターフォローが未作成の場合はデフォルトの値を返す
                  value:
                    january: 'status_report'
                    february: 'follow_up'
                    march: 'follow_up'
                    april: 'meeting'
                    may: 'follow_up'
                    june: 'follow_up'
                    july: 'status_report'
                    august: 'follow_up'
                    september: 'follow_up'
                    october: 'meeting'
                    november: 'follow_up'
                    december: 'follow_up'
                アフターフォローが作成済みの場合:
                  description: アフターフォローが作成済みの場合は作成済みの値を返す
                  value:
                    january: 'status_report'
                    february: 'follow_up'
                    march: 'follow_up'
                    april: 'meeting'
                    may: 'follow_up'
                    june: 'follow_up'
                    july: 'status_report'
                    august: 'follow_up'
                    september: 'follow_up'
                    october: 'meeting'
                    november: 'follow_up'
                    december: 'follow_up'

        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/deferral-withdrawal/future-prediction':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    post:
      summary: 据置・引出の将来推計を算出。
      description: |
        据置・引出の将来推計を算出する。
      tags:
        - 将来推計
      operationId: post-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral-withdrawal-future-prediction
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeferralWithdrawalFuturePredictionRequest'
      responses:
        '200':
          description: |
            将来推計。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeferralWithdrawalFuturePredictionResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/deferral/future-prediction':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    post:
      summary: 据置の将来推計を算出。
      description: |
        据置の将来推計を算出する。
      tags:
        - 将来推計
      operationId: post-fas-fa-id-customers-customer-uuid-goals-goal-id-deferral-future-prediction
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeferralFuturePredictionRequest'
      responses:
        '200':
          description: |
            将来推計。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeferralFuturePredictionResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/reserve/future-prediction':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    post:
      summary: 積立の将来推計を算出。
      description: |
        積立の将来推計を算出する。
      tags:
        - 将来推計
      operationId: post-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve-future-prediction
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveFuturePredictionRequest'
      responses:
        '200':
          description: |
            将来推計。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReserveFuturePredictionResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/reserve-deferral-withdrawal/future-prediction':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    post:
      summary: 積立・据置・引出の将来推計を算出。
      description: |
        積立・据置・引出の将来推計を算出する。
      tags:
        - 将来推計
      operationId: post-fas-fa-id-customers-customer-uuid-goals-goal-id-reserve-deferral-withdrawal-future-prediction
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveDeferralWithdrawalFuturePredictionRequest'
      responses:
        '200':
          description: |
            将来推計。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReserveDeferralWithdrawalFuturePredictionResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/summary':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
    get:
      summary: FAの担当する顧客サマリーを取得
      deprecated: true
      description: |
        FAのダッシュボードサマリーを取得する。
      tags:
        - (Mock) ダッシュボード / FAの担当する顧客のサマリー(FA向け)
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-summary
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            FAの担当する顧客のサマリー。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerSummaryResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/summary':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
    get:
      summary: 部店に所属するFAのサマリーを取得
      deprecated: true
      description: |
        部店に所属するFAのサマリーを取得する。
      tags:
        - (Mock) ダッシュボード / 部店に所属するFAのサマリー(部店管理者向け)
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-summary
      security:
        - Tenant/AdvisoryChannel/Branch: []
      responses:
        '200':
          description: |
            部店に所属するFAのサマリー。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FasSummaryResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/BranchNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/summary':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
    get:
      summary: アドバイザリーチャネルが所有する部店のサマリー
      deprecated: true
      description: |
        アドバイザリーチャネルが所有する部店のサマリーを取得する。
      tags:
        - (Mock) ダッシュボード / アドバイザリーチャネルが所有する部店のサマリー(アドバイザリーチャネル管理者向け)
      operationId: get-advisory-channels-advisory-channel-id-branches-summary
      security:
        - Tenant/AdvisoryChannel: []
      responses:
        '200':
          description: |
            アドバイザリーチャネルが所有する部店のサマリー。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchesSummaryResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/AdvisoryChannelNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/summary':
    parameters:
      - $ref: '#/components/parameters/TenantId'
    get:
      summary: アドバイザリーチャネルの一覧とサマリー
      deprecated: true
      description: |
        アドバイザリーチャネルの一覧とサマリーを取得する。
      tags:
        - (Mock) ダッシュボード / アドバイザリーチャネルサマリー(テナント管理者向け)
      operationId: get-advisory-channels-summary
      security:
        - Tenant: []
      responses:
        '200':
          description: |
            アドバイザリーチャネルの一覧とサマリー。
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BranchesSummaryResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/TenantNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels':
    parameters:
      - $ref: '#/components/parameters/TenantId'
    get:
      summary: テナントのアドバイザー会社一覧の取得。
      description: |
        テナントのアドバイザー会社一覧を取得する。
      tags:
        - ダッシュボード / 一覧
      operationId: get-advisory-channel-list
      security:
        - Tenant: []
      responses:
        '200':
          description: |
            テナントのアドバイザー会社一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdvisoryChannelListResponse'
              examples:
                アドバイザー会社が存在しない場合:
                  value:
                    advisory_channels: []
                アドバイザー会社が存在する場合:
                  value:
                    advisory_channels:
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'd610f84f-1035-5216-92c5-1bad31fdfd02'
                        advisory_channel_name: '南穂高生命保険 (Standard)'
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: '7d761940-e57c-58e9-90c5-af88044ee92b'
                        advisory_channel_name: 'エフエー黒峰 (Standard)'
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        advisory_channel_name: '北穂高生命保険'
                        total_summary_customers: 100
                        total_summary_potential_customers: 100
                        total_summary_concluded_contracts: 100
                        total_goal_amount: 100
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        advisory_channel_name: 'エフエー白峰'
                        total_summary_customers: 100
                        total_summary_potential_customers: 100
                        total_summary_concluded_contracts: 100
                        total_goal_amount: 100
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '404':
          $ref: '#/components/responses/TenantNotFoundResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
    get:
      parameters:
        - in: query
          name: offset
          description: |
            指定した数だけ出力するレコードをスキップして、レコードが返されます。
          schema:
            type: number
            default: 0
            minimum: 0
            maximum: 500
          required: false
        - in: query
          name: limit
          description: |
            指定した数だけレコードが返されます。
          schema:
            type: number
            default: 100
            minimum: 1
            maximum: 300
          required: false
        - in: query
          name: is_summary_fetched
          description: |
            サマリカウント表示を指定する。
          schema:
            type: boolean
          required: false
      summary: アドバイザー会社の部店一覧の取得。
      description: |
        アドバイザー会社の部店一覧を取得する。
      tags:
        - ダッシュボード / 一覧
      operationId: get-branch-list
      security:
        - Tenant/AdvisoryChannel: []
      responses:
        '200':
          description: |
            アドバイザー会社の部店一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchListResponse'
              examples:
                部店が存在しない場合:
                  value:
                    branches: []
                    total_branches: 0
                    total_summary_customers: 0
                    total_summary_potential_customers: 0
                    total_summary_concluded_contracts: 0
                    have_not_logged_in_this_month: 0
                    total_goal_amount: 0
                部店が存在する場合:
                  value:
                    branches:
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        advisory_channel_name: 'QUICK証券'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        branch_name: 'さっぽろ大通り'
                        total_summary_customers: 100
                        total_summary_potential_customers: 100
                        total_summary_concluded_contracts: 100
                        total_goal_amount: 100
                      - tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        advisory_channel_name: 'QUICK証券'
                        branch_id: '3b2c143a-e06f-4a98-becc-7da93166ecdd'
                        branch_name: 'さいたま'
                        total_summary_customers: 100
                        total_summary_potential_customers: 100
                        total_summary_concluded_contracts: 100
                        total_goal_amount: 100
                    total_branches: 2
                    total_summary_customers: 200
                    total_summary_potential_customers: 200
                    total_summary_concluded_contracts: 200
                    have_not_logged_in_this_month: 0
                    total_goal_amount: 200
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '404':
          $ref: '#/components/responses/AdvisoryChannelNotFoundResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/fas':
    $ref: ./paths/dashboard-list.yaml#/paths/~1fas

  '/tenants/{tenant_id}/customers':
    $ref: ./paths/dashboard-list.yaml#/paths/~1tenants~1{tenant_id}~1customers

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/applications':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 登録・更新を申請可能一覧へ追加
      description: |
        登録・更新を申請可能一覧へ追加する。
      tags:
        - アドバイスツール / 申請可能へ追加
      operationId: post-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-applications
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationRequest'
            example:
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              achievement_probability: 88
              contract_method: 'pdf_contract'
              new_nisa: '1'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/termination-applications':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 解約を申請可能一覧へ追加
      description: |
        解約を申請可能一覧へ追加する。
      tags:
        - アドバイスツール / 申請可能へ追加
      operationId: post-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-termination-applications
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminationApplicationRequest'
            example:
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              contract_method: 'pdf_contract'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/applications':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    delete:
      summary: 申請取消
      description: |
        申請リクエストの申請を取消。
      tags:
        - アドバイスツール / 申請取消
      operationId: delete-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-applications
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationCancelCommentRequest'
            example:
              comment: '修正のため取消しました。'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/applications':
    get:
      summary: FAの申請可能一覧の表示
      description: |
        申請可能な顧客、ゴール一覧を表示。
      tags:
        - ダッシュボード / 申請可能一覧
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-applications
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            申請可能な顧客とゴール一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationListResponse'
              example:
                - customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
                  customer_name: '伊藤 睦月'
                  customer_type: '2'
                  fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                  tenant_id: 'tenant-22-02'
                  advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                  branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                  is_contract_available: true
                  total_initial_investment: 12000000
                  goals:
                    - application_type: 'new_contract'
                      goal_type: 'education'
                      goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                      goal_name: '長女の大学入学'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 3000000
                      achievement_probability: 66
                    - application_type: 'new_contract'
                      goal_type: 'retirement_plan'
                      goal_id: 'a8694fec-ec8c-4979-abb3-b0d352df1eec'
                      goal_name: '充実したセカンドライフ'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 5000000
                      achievement_probability: 80
                    - application_type: 'new_contract'
                      goal_type: 'renovation'
                      goal_id: '966e45b2-6a6b-462b-95c1-b4ea6f7f1af2'
                      goal_name: '素敵なリフォーム'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 2000000
                      achievement_probability: 80
                - customer_uuid: 'cc624f14-1850-46f1-9996-8fccd3e45b19'
                  customer_name: '日本スタンダード・インテリジェンス・マネジメント'
                  customer_type: '1'
                  fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                  tenant_id: 'tenant-22-02'
                  advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                  branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                  is_contract_available: false
                  total_initial_investment: 9000000
                  goals:
                    - application_type: 'new_contract'
                      goal_type: 'education'
                      goal_id: '92733c51-8dc1-442b-985f-da04a7780e6b'
                      goal_name: '長女の大学入学'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 6000000
                      achievement_probability: 90
                    - application_type: 'new_contract'
                      goal_type: 'retirement_plan'
                      goal_id: 'e3263668-42c0-4f7d-a4ee-5549cfe8b3da'
                      goal_name: '充実したセカンドライフ'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 6000000
                      achievement_probability: 95
                    - application_type: 'new_contract'
                      goal_type: 'renovation'
                      goal_id: '47e7b517-8425-4d94-a880-f0c54b368852'
                      goal_name: '素敵なリフォーム'
                      created_at: '2021-07-01T00:00:00.000Z'
                      initial_investment: 6000000
                      achievement_probability: 99
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/pending-approvals':
    get:
      summary: 承認待ち一覧
      description: |
        承認待ち一覧。
      tags:
        - ダッシュボード / 申請可能一覧
      operationId: get-pending-approvals
      security:
        - Branch: []
      responses:
        '200':
          description: |
            承認待ち一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PendingApprovalsResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/approval-applications':
    post:
      summary: 承認をリクエスト
      description: |
        承認をリクエスト。
      tags:
        - ダッシュボード / 承認リクエスト
      operationId: post-approval-applications
      security:
        - Branch/Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApprovalApplicationRequest'
            example:
              goals:
                - 'd283c098-7206-4fdf-b45e-d0caca2320a4'
                - 'a927116d-d94d-4bd7-92d6-77faff81efad'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

    get:
      summary: 承認リクエスト一覧
      description: |
        承認リクエスト一覧。
      tags:
        - ダッシュボード / 承認リクエスト
      operationId: get-approval-applications
      security:
        - Branch: []
      responses:
        '200':
          description: |
            承認リクエスト一覧。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApprovalApplicationListResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/approval':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: 新規契約、変更契約または解約の場合、承認と契約送信
      description: |
        新規契約、変更契約または解約の場合、承認と契約送信する。
      tags:
        - ダッシュボード / 申請承認、契約送信
      operationId: post-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-approval
      security:
        - Branch: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApproveRequest'
            example:
              goals:
                - 'd283c098-7206-4fdf-b45e-d0caca2320a4'
                - 'a927116d-d94d-4bd7-92d6-77faff81efad'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    delete:
      summary: 申請却下
      description: |
        承認リクエストの申請却下。
      tags:
        - ダッシュボード / 申請却下
      operationId: delete-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-goals-goal-id-approval
      security:
        - Branch: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationRejectCommentRequest'
            example:
              comment: 'リフォームの金額が高すぎるため却下しました。再度確認してください。'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/activities':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
    post:
      summary: FAのアクティビティを作成。
      description: |
        FAのアクティビティを作成する。
      tags:
        - ダッシュボード / アクティビティ
      operationId: post-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-activities
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivityCreationOrUpdateRequest'
      responses:
        '201':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityCreationResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    get:
      parameters:
        - in: query
          name: offset
          description: |
            指定した数だけ出力するレコードをスキップして、レコードを返却します。
          schema:
            type: number
            default: 0
            minimum: 0
            maximum: 500
          required: false
        - in: query
          name: limit
          description: |
            指定した数だけレコードを返却します。
          schema:
            type: number
            default: 20
            minimum: 1
            maximum: 100
          required: false
        - in: query
          name: customer_uuid
          description: |
            対象の顧客に紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/CustomerUuid'
          required: false
        - in: query
          name: status
          description: |
            対象のステータスに紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/ActivityStatusFilterType'
          required: false
        - in: query
          name: category
          description: |
            対象のカテゴリーに紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/ActivityCategory'
          required: false
        - in: query
          name: priority
          description: |
            対象の優先度に紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/Priority'
          required: false
        - in: query
          name: deadline
          description: |
            対象の期限に紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/DeadlineFilterType'
          required: false
        - in: query
          name: sort
          description: |
            指定の順序でソートします。
          schema:
            $ref: '#/components/schemas/ActivitySortType'
          required: false
      summary: FAのアクティビティ一覧を返却
      description: |
        FAのアクティビティ一覧を返却する。
      tags:
        - ダッシュボード / アクティビティ
      operationId: get-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-activities
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            FAのアクティビティの一覧を返却する。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityListResponse'
              examples:
                アクティビティが存在しない場合:
                  value:
                    activities: []
                    total_activities: 0
                アクティビティが存在する場合:
                  value:
                    activities:
                      - activity_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                        title: '運用見直しのアポ取り'
                        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
                        customer_name: '伊藤 睦月'
                        status: 'not_started'
                        priority: 'high'
                        deadline: '2021-07-01T00:00:00.000Z'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                        goals:
                          - goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                            goal_name: '次女の大学入学'
                      - activity_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                        title: '2021/6/21 訪問レポート'
                        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
                        customer_name: '伊藤 睦月'
                        status: 'in_progress'
                        priority: 'high'
                        deadline: '2021-07-01T00:00:00.000Z'
                        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                    total_activities: 2
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/activities/{activity_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/ActivityId'
    put:
      summary: FAのアクティビティを更新。
      description: |
        FAのアクティビティを更新する。
      tags:
        - ダッシュボード / アクティビティ
      operationId: put-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-activities-activity-id
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivityCreationOrUpdateRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    get:
      summary: FAのアクティビティの詳細を返却
      description: |
        FAのアクティビティの詳細を返却する。
      tags:
        - ダッシュボード / アクティビティ
      operationId: get-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-activities-activity-id
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            FAのアクティビティの詳細を返却する。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/goals/{goal_id}/activities':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
      - $ref: '#/components/parameters/GoalId'
    get:
      parameters:
        - in: query
          name: offset
          description: |
            指定した数だけ出力するレコードをスキップして、レコードを返却します。
          schema:
            type: number
            default: 0
            minimum: 0
            maximum: 500
          required: false
        - in: query
          name: limit
          description: |
            指定した数だけレコードを返却します。
          schema:
            type: number
            default: 20
            minimum: 1
            maximum: 100
          required: false
        - in: query
          name: status
          description: |
            対象のステータスに紐づくアクティビティデータを返却します。
          schema:
            $ref: '#/components/schemas/ActivityStatusFilterType'
          required: false
        - in: query
          name: sort
          description: |
            指定の順序でソートします。
          schema:
            $ref: '#/components/schemas/ActivitySortType'
          required: false
      summary: ゴールに紐づくアクティビティを返却。
      description: |
        ゴールに紐づくアクティビティを返却する。
      tags:
        - ダッシュボード / アクティビティ
      operationId: get-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-goals-goal-id-activities
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            ゴールに紐づくアクティビティを返却する。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityListResponse'
              examples:
                アクティビティが存在しない場合:
                  value:
                    activities: []
                    total_activities: 0
                アクティビティが存在する場合:
                  value:
                    activities:
                      - activity_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                        title: '運用見直しのアポ取り'
                        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
                        customer_name: '伊藤 睦月'
                        status: 'not_started'
                        priority: 'high'
                        deadline: '2021-07-01T00:00:00.000Z'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                        goals:
                          - goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                            goal_name: '次女の大学入学'
                      - activity_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
                        title: '2021/6/21 訪問レポート'
                        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
                        customer_name: '伊藤 睦月'
                        status: 'in_progress'
                        priority: 'high'
                        deadline: '2021-07-01T00:00:00.000Z'
                        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
                        tenant_id: 'tenant-22-02'
                        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
                        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
                    total_activities: 2
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/alerts':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
    get:
      parameters:
        - in: query
          name: offset
          description: |
            指定した数だけ出力するレコードをスキップして、レコードが返されます。
          schema:
            type: number
            default: 0
            minimum: 0
            maximum: 500
          required: false
        - in: query
          name: limit
          description: |
            指定した数だけレコードが返されます。
          schema:
            type: number
            default: 100
            minimum: 1
            maximum: 300
          required: false
        - in: query
          name: customer_uuid
          description: |
            指定したcustomer_uuidのレコードが返されます。
          schema:
            type: string
        - in: query
          name: alert_types
          description: |
            指定したalert_typeのレコードが返されます。
          schema:
            type: array
            items:
              $ref: '#/components/schemas/AlertType'
          required: false
        - in: query
          name: alert_status
          description: |
            指定したalert_statusのレコードが返されます。
          schema:
            $ref: '#/components/schemas/AlertStatus'
          required: false
      summary: FAのアラート一覧を取得
      description: |
        FAのアラート一覧を取得する。
      tags:
        - ダッシュボード / アラート
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-alerts
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            FAのアラート一覧を取得する
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlertListResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/alerts/{alert_id}':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/AlertId'
    get:
      summary: FAのアラート詳細を取得
      description: |
        FAのアラート詳細を取得する。
      tags:
        - ダッシュボード / アラート
      operationId: get-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-alerts-alert-id
      security:
        - Branch/Fa: []
      responses:
        '200':
          description: |
            FAのアラート詳細を取得する
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlertDetailResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerGoalAssetManagementPlanAlertNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/after-follow/history':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    post:
      summary: アフターフォローの指定年月のデータを登録。
      description: |
        アフターフォローの指定年月のデータを登録する。
      tags:
        - ダッシュボード / アフターフォロー
      operationId: put-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-after-follow-history
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AfterFollowHistoryCreationRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    delete:
      summary: アフターフォローの指定年月のデータを削除。
      description: |
        アフターフォローの指定年月のデータを削除する。
      tags:
        - ダッシュボード / アフターフォロー
      operationId: delete-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-after-follow-history
      security:
        - Fa: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AfterFollowHistoryDeleteRequest'
      responses:
        '204':
          $ref: '#/components/responses/NoContentResponse'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
    get:
      summary: 顧客のアフターフォローのその年の履歴・計画データの返却。
      description: |
        アフターフォローの履歴・計画データを返却する。
      tags:
        - ダッシュボード / アフターフォロー
      operationId: get-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-after-follow-history
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            アフターフォローの履歴・計画データの返却
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AfterFollowHistoryListResponse'
              examples:
                アフターフォロー計画が存在しない場合:
                  value:
                    {
                      histories: [],
                      updated_at: null,
                      is_assigned_customer: false,
                    }
                アフターフォロー計画が存在する場合:
                  value:
                    {
                      histories:
                        [
                          {
                            after_follow_type: 'status_report',
                            status: 'done',
                          },
                          {
                            after_follow_type: 'status_report',
                            status: 'done',
                          },
                          { after_follow_type: 'follow_up', status: 'done' },
                          { after_follow_type: 'meeting', status: 'not_done' },
                          { after_follow_type: 'follow_up', status: 'done' },
                          { after_follow_type: 'follow_up', status: 'done' },
                          {
                            after_follow_type: 'status_report',
                            status: 'done',
                          },
                          {
                            after_follow_type: 'none',
                            status: 'under_planning',
                          },
                          {
                            after_follow_type: 'follow_up',
                            status: 'under_planning',
                          },
                          {
                            after_follow_type: 'meeting',
                            status: 'under_planning',
                          },
                          {
                            after_follow_type: 'follow_up',
                            status: 'under_planning',
                          },
                          {
                            after_follow_type: 'follow_up',
                            status: 'under_planning',
                          },
                        ],
                      updated_at: '2021-02-07T00:00:00.000Z',
                      is_assigned_customer: true,
                    }
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
  '/tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/fas/{fa_id}/customers/{customer_uuid}/after-follow/history-info':
    parameters:
      - $ref: '#/components/parameters/TenantId'
      - $ref: '#/components/parameters/AdvisoryChannelId'
      - $ref: '#/components/parameters/BranchId'
      - $ref: '#/components/parameters/FaId'
      - $ref: '#/components/parameters/CustomerUuid'
    get:
      parameters:
        - in: query
          name: version
          description: |
            指定した数だけ出力するレコードをスキップして、レコードが返されます。
          schema:
            type: number
            default: 0
            minimum: 0
          required: false
      summary: アフターフォローの変更履歴取得。
      description: |
        アフターフォローの変更履歴取得。
      tags:
        - ダッシュボード / アフターフォロー
      operationId: get-tenants-tenant-id-advisory-channels-advisory-channel-id-branches-branch-id-fas-fa-id-customers-customer-uuid-after-follow-history-info
      security:
        - Tenant/AdvisoryChannel/Branch/Fa: []
      responses:
        '200':
          description: |
            アフターフォローの変更履歴取得。
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AfterFollowHistoryListResponse'
              examples:
                アフターフォロー計画が存在しない場合:
                  value:
                    after_follow_info: null
                    updated_at: null
                    fa_name: null
                    total: 0
                アフターフォロー計画が存在する場合:
                  value:
                    after_follow_info:
                      [
                        { after_follow_type: 'status_report', status: 'done' },
                        { after_follow_type: 'status_report', status: 'done' },
                        { after_follow_type: 'follow_up', status: 'done' },
                        { after_follow_type: 'meeting', status: 'not_done' },
                        { after_follow_type: 'follow_up', status: 'done' },
                        { after_follow_type: 'follow_up', status: 'done' },
                        { after_follow_type: 'status_report', status: 'done' },
                        { after_follow_type: 'none', status: 'under_planning' },
                        {
                          after_follow_type: 'follow_up',
                          status: 'under_planning',
                        },
                        {
                          after_follow_type: 'meeting',
                          status: 'under_planning',
                        },
                        {
                          after_follow_type: 'follow_up',
                          status: 'under_planning',
                        },
                        {
                          after_follow_type: 'follow_up',
                          status: 'under_planning',
                        },
                      ]
                    updated_at: '2021-02-07T00:00:00.000Z'
                    fa_name: '担当者名'
                    total: 100
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/FaCustomerNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'
  '/tenants/{tenant_id}/csv':
    $ref: ./paths/customer.yaml#/paths/~1tenants~1{tenant_id}~1csv
  '/customers/files':
    $ref: ./paths/customer.yaml#/paths/~1customers~1files
  '/customers/{customer_uuid}':
    $ref: ./paths/customer.yaml#/paths/~1customers~1{customer_uuid}
  '/customers/files/history':
    $ref: ./paths/customer.yaml#/paths/~1customers~1files~1history
  '/customers/{customer_uuid}/documents':
    $ref: ./paths/customer.yaml#/paths/~1customers~1{customer_uuid}~1documents
  '/customers/{customer_uuid}/contract-date':
    $ref: ./paths/customer.yaml#/paths/~1customers~1{customer_uuid}~1contract-date
  '/customers/documents':
    $ref: ./paths/customer.yaml#/paths/~1customers~1documents
  '/years/{year}/months/{month}/days/{day}':
    $ref: ./paths/other.yaml#/paths/~1years~1{year}~1months~1{month}~1days~1{day}
  '/tenants/{tenant_id}/customers/{customer_uuid}/code':
    $ref: ./paths/customer.yaml#/paths/~1tenants~1{tenant_id}~1customers~1{customer_uuid}~1code
  '/tenants/{tenant_id}/agent-change':
    $ref: ./paths/customer.yaml#/paths/~1tenants~1{tenant_id}~1agent-change
  '/customers/{customer_uuid}/nisa':
    $ref: ./paths/customer.yaml#/paths/~1customers~1{customer_uuid}~1nisa

  /manual-urls:
    $ref: ./paths/manual.yaml#/paths/~1manual-urls

  /tenants/{tenant_id}/record-dates/current:
    $ref: ./paths/other.yaml#/paths/~1record-dates~1current
  /merged-pdf-url:
    $ref: ./paths/merged-pdf.yaml#/paths/~1merged-pdf-url
  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/service-name:
    $ref: ./paths/other.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1branches~1{branch_id}~1service-name
  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/tenant-setting:
    $ref: ./paths/other.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1tenant-setting
  /tenants/{tenant_id}/postcode:
    $ref: ./paths/other.yaml#/paths/~1tenants~1{tenant_id}~1postcode
  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/is-standard-plan:
    $ref: ./paths/other.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1is-standard-plan

  '/fas/files':
    post:
      summary: アドバイザのチェック用データのCSVファイルを生成する
      description: |
        アドバイザのチェック用データのCSVファイルを生成する。
      tags:
        - アドバイザ情報
      operationId: post-fas-files
      security:
        - Tenant/AdvisoryChannel: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FaCsvCreationRequest'
      responses:
        '200':
          description: |
            リクエスト成功時のレスポンス。
          content:
            application/json:
              schema:
                type: array
                description: |
                  アドバイザのチェック用データのCSVのリンク先を示すオブジェクト。
                items:
                  type: object
                  required:
                    - filename
                    - link
                  properties:
                    filename:
                      type: string
                      description: |
                        CSVファイル名。
                    link:
                      type: string
                      format: uri
                      description: |
                        CSVファイルのリンク先URL。
              examples:
                アドバイザー会社管理者およびテナント管理者向けのレスポンス:
                  value:
                    items:
                      - filename: 'fa.csv'
                        link: 'https://example.com'
        '400':
          $ref: '#/components/responses/BadRequestResponse'
        '403':
          $ref: '#/components/responses/ForbiddenResponse'
        '404':
          $ref: '#/components/responses/TenantNotFoundResponse'
        '500':
          $ref: '#/components/responses/InternalServerErrorResponse'
        '503':
          $ref: '#/components/responses/ServiceUnavailableResponse'

  /tenants/{tenant_id}/advisory-channels/{advisory_channel_id}/branches/{branch_id}/advisory-channel-setting:
    $ref: ./paths/other.yaml#/paths/~1tenants~1{tenant_id}~1advisory-channels~1{advisory_channel_id}~1branches~1{branch_id}~1advisory-channel-setting
components:
  responses:
    BadRequestResponse:
      description: |
        何らかのクライアント側のエラーであると分かったために、サーバーがそのリクエストを処理しない (できない) ことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    UnauthorizedResponse:
      description: |
        上司の承認待ちなどでリソースの変更ができないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    ForbiddenResponse:
      description: |
        有効な認証資格が不足しているためリクエストが適用されないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    TenantNotFoundResponse:
      description: |
        投資一任事業会社が存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    AdvisoryChannelNotFoundResponse:
      description: |
        アドバイザリー会社が存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    BranchNotFoundResponse:
      description: |
        部店が存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FaNotFoundResponse:
      description: |
        FAが存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FaCustomerNotFoundResponse:
      description: |
        FAまたは顧客が存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FaCustomerGoalNotFoundResponse:
      description: |
        FA、顧客またはゴールが存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FaCustomerGoalAssetManagementPlanNotFoundResponse:
      description: |
        FA、顧客、ゴールまたは運用プランが存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    RtqNotFoundResponse:
      description: |
        リスク許容度診断が保存されていないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FaCustomerGoalAssetManagementPlanAlertNotFoundResponse:
      description: |
        FA、顧客、ゴール、運用プランまたはアラートが存在しないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    ConflictResponse:
      description: |
        サーバの現在の状態とコンフリクトしていることを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    InternalServerErrorResponse:
      description: |
        サーバーがリクエストの実行を妨げる予期しない条件に遭遇したことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    NoContentResponse:
      description: |
        リクエストが成功したことを示すが、クライアントは現在のページから遷移する必要はないことを表す。

    ServiceUnavailableResponse:
      description: |
        サーバーがメンテナンス状態であることを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    GoneResponse:
      description: |
        契約が終了しているためデータが取得できないことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

    FileNotFoundResponse:
      description: |
        ファイルが見つからなかったことを表す。
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBaseModel'

  securitySchemes:
    Tenant/AdvisoryChannel/Branch/Fa:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - tenant_admin
          - advisory_channel_admin
          - branch_admin
          - fa

    Tenant/AdvisoryChannel/Branch:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - tenant_admin
          - advisory_channel_admin
          - branch_admin

    Tenant/AdvisoryChannel:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - tenant_admin
          - advisory_channel_admin

    Branch/Fa:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - branch_admin
          - fa

    Tenant:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - tenant_admin

    Branch:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - branch_admin

    Fa:
      type: http
      scheme: bearer
      description: |
        Access token for API.

        Allowed roles:
          - fa

  schemas:
    TenantId:
      type: string
      description: |
        投資一任事業者ID（テナントID）。

    CustomerUuid:
      type: string
      format: uuidV4
      description: |
        顧客ID。

    AdvisoryChannelName:
      type: string
      description: |
        アドバイザー会社の名称。

    AdvisoryChannelId:
      type: string
      format: uuidV4
      description: |
        アドバイザー会社のID。

    BranchName:
      type: string
      description: |
        部店名の名称。

    BranchId:
      type: string
      format: uuidV4
      description: |
        部店のID.

    FaId:
      type: string
      format: uuidV4
      description: |
        FAのID.

    TotalSummaryCustomers:
      type: number
      description: |
        全体の登録顧客数。

    TotalSummaryPotentialCustomers:
      type: number
      description: |
        全体の見込み顧客数。

    TotalSummaryConcludedContracts:
      type: number
      description: |
        全体の契約ゴール数。

    HaveNotLoggedInThisMonth:
      type: number
      description: |
        今月中にログインなしアドバイザー数。

    FaName:
      type: string
      description: |
        FAの名前。

    UserName:
      type: string
      description: |
        操作者の名前。

    CustomerCode:
      type: string
      description: |
        顧客番号。

    CustomerName:
      type: string
      description: |
        顧客名。

    DocumentId:
      type: string
      description: |
        運用報告書のID。

    Gender:
      allOf:
        # OpenAPI's enum only supports list. As a result we can't do this:
        # enum: $ref: 'path/to/json'
        # See: https://stackoverflow.com/questions/53672069/remote-enum-list-for-value-validation-in-openapi-specification
        - $ref: '../../packages/app/src/modules/constants/snippets/gender-codes.json'
        - type: string
          description: |
            性別を表すコード。

    CustomerNameKana:
      type: string
      description: |
        顧客名カナ。

    Answers:
      type: array
      description: |
        設問
      items:
        type: string

    Pref:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/prefecture-codes.json'
        - type: string
          description: |
            都道府県名。JIS X 0401：1973形式で記載。
            https://kikakurui.com/x0/X0401-1973-01.html

    Zip:
      type: string
      pattern: '^\d{7}$'
      description: |
        郵便番号。

    Address:
      type: string
      description: |
        住所。

    AddressKana:
      type: string
      description: |
        住所カナ。

    Tel:
      type: string
      format: phone_number
      description: |
        電話番号。

    Tels:
      type: array
      description: |
        電話番号のみ含む配列。
      minimum: 1
      maximum: 2
      items:
        $ref: '#/components/schemas/Tel'

    Email:
      type: string
      format: email
      description: |
        電子メールアドレス。

    Emails:
      type: array
      description: |
        電子メールアドレスのみ含む配列。
      minimum: 0
      maximum: 2
      items:
        $ref: '#/components/schemas/Email'

    TodayAnniversaries:
      type: array
      items:
        type: string
        description: |
          今日の顧客記念日。

    BirthDate:
      type: string
      format: iso8601
      description: |
        生年月日。UTC。

    CompleteAddress:
      type: string
      description: |
        都道府県名を含めた住所。

    CompleteAddressKana:
      type: string
      description: |
        都道府県名を含めた住所カナ。

    Occupation:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/occupations.json'
        - type: string
          description: |
            職業。

    ElectronicDeliveryAgreement:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/electronic-delivery-agreement-codes.json'
        - type: string
          description: |
            電子交付の同意を表すコード（1:同意 / 2:同意しない）。

    NisaAccount:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/nisa-account-codes.json'
        - type: string
          description: |
            NISA預かりの有無を表すコード（1:NISA口座あり / 2:NISA口座なし）。

    AccountManagementBranchCode:
      type: string
      pattern: '^\d{3}$'
      description: |
        部店コード。

    Specific:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/specific-codes.json'
        - type: string
          description: |
            口座区分を表すコード。

    AccountManagementAccountNo:
      type: string
      pattern: '^\d{7}$'
      description: |
        口座番号。

    IsDisplay:
      type: boolean
      description: |
        表示対象。

    IsPotential:
      type: boolean
      description: |
        見込み顧客。

    Family:
      type: array
      description: |
        個人顧客の家族情報オブジェクトを含む配列。
      items:
        type: object
        required:
          - name
          - name_kana
          - relationship
          - birth_date
          - occupation
        properties:
          name:
            type: string
            description: |
              家族の名前。
          name_kana:
            type: string
            description: |
              家族の名前カナ。
          relationship:
            allOf:
              - $ref: '../../packages/app/src/modules/constants/snippets/relationships.json'
              - type: string
                description: |
                  個人顧客との続柄。
          birth_date:
            type: string
            format: iso8601
            description: |
              家族の誕生日。UTC。
          occupation:
            $ref: '#/components/schemas/Occupation'

    ChiefName:
      type: string
      description: |
        代表者の氏名。

    ChiefAddress:
      type: string
      description: |
        代表者の居住地。

    ChiefBirthDate:
      allOf:
        - $ref: '#/components/schemas/BirthDate'
        - description: |
            代表者の生年月日。UTC。

    AgentName:
      type: string
      description: |
        取引の任にあたる者の氏名。

    AgentAddress:
      type: string
      description: |
        取引の任にあたる者の居住地。

    AgentBirthDate:
      allOf:
        - $ref: '#/components/schemas/BirthDate'
        - description: |
            取引の任にあたる者の生年月日。UTC。

    AgentTel:
      allOf:
        - $ref: '#/components/schemas/Tel'
        - description: |
            取引の任にあたる者の電話番号。

    AgentEmail:
      allOf:
        - $ref: '#/components/schemas/Email'
        - description: |
            取引の任にあたる者の電子メールアドレス。

    RulerName:
      type: string
      description: |
        実質的支配者の氏名。

    RulerAddress:
      type: string
      description: |
        実質的支配者の居住地。

    RulerBirthDate:
      allOf:
        - $ref: '#/components/schemas/BirthDate'
        - description: |
            実質的支配者の生年月日。UTC。

    RulerRelation:
      type: string
      description: |
        実質的支配者と顧客との関係。

    Residence:
      type: object
      description: |
        住居情報を含むオブジェクト。
      required:
        - type
        - history_years
        - history_months
      properties:
        type:
          allOf:
            - $ref: '../../packages/app/src/modules/constants/snippets/residence-types.json'
            - type: string
              description: |
                住居のタイプ。
        history_years:
          type: number
          minimum: 0
          description: |
            居住経過年。
        history_months:
          type: number
          minimum: 0
          maximum: 12
          description: |
            `history_years` を補完する居住経過月。

    FinancialAssets:
      type: array
      description: |
        金融資産情報オブジェクトを含む配列。
      items:
        type: object
        description: |
          金融資産情報を含むオブジェクト。
        required:
          - type
          - amounts
        properties:
          type:
            allOf:
              - $ref: '../../packages/app/src/modules/constants/snippets/financial-asset-types.json'
              - type: string
                description: |
                  金融資産のタイプ。
          amounts:
            type: number
            minimum: 0
            description: |
              金融資産の合計金額（円）。

    Income:
      type: number
      minimum: 0
      nullable: true
      description: |
        顧客の収入合計金額。

    Outgo:
      type: number
      minimum: 0
      nullable: true
      description: |
        顧客の支出合計金額。

    FutureExpenseIncomeList:
      type: array
      description: |
        将来の大きな収入/支出を含む配列。
      items:
        type: object
        description: |
          将来の大きな収入/支出。
        required:
          - type
          - name
          - year
          - month
          - amounts
        properties:
          type:
            allOf:
              - $ref: '../../packages/app/src/modules/constants/snippets/future-expense-income-types.json'
              - type: string
                description: |
                  収入/支出の分類。
          name:
            type: string
            description: |
              収入/支出の名称。
          year:
            type: number
            format: yyyy
            description: |
              収入/支出の時期(年)。
          month:
            type: number
            minimum: 1
            maximum: 12
            format: m
            description: |
              収入/支出の時期(月)。
          amounts:
            type: number
            minimum: 0
            description: |
              金額(円)。

    WeddingAnniversary:
      type: string
      format: iso8601
      description: |
        結婚記念日。UTC。

    RiskToleranceDate:
      type: string
      format: iso8601
      description: |
        リスク許容度診断前回実施日。UTC。

    AccountStatus:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/account-status-codes.json'
        - type: string
          description: |
            口座の状態。

    HasValidContract:
      type: boolean
      description: |
        顧客が有効な契約(contract_classが[0,1,2,6,7,8]のどれか)を持っているかどうか

    IsAlerted:
      type: boolean
      description: |
        顧客がアラート状態にあるか否か。

    LastContactDate:
      type: string
      format: iso8601
      description: |
        最終接触日。UTC。

    TotalSignedContracts:
      type: number
      minimum: 0
      description: |
        総契約数。

    TotalUnsignedContracts:
      type: number
      minimum: 0
      description: |
        総未契約数。

    TotalEndContracts:
      type: number
      minimum: 0
      description: |
        総終了契約数。

    ContactPersonName:
      type: string
      description: |
        担当者名。

    ContactPersonNameKana:
      type: string
      description: |
        担当者名カナ。

    ContactPersonDepartment:
      type: string
      description: |
        担当部門名。

    CustomerType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/customer-type-codes.json'
        - type: string
          description: |
            顧客の種類を表すコード。

    QuestionText:
      type: string
      nullable: true
      description: |
        RTQの設問文章

    AnswerText:
      type: string
      nullable: true
      description: |
        RTQの解答文章

    AnswerNo:
      type: string
      nullable: true
      description: |
        RTQの解答コード(例: A1-2)

    QuestionImageBase64:
      type: string
      nullable: true
      description: |
        RTQの設問で利用する画像(base64)

    IsCompleted:
      type: boolean
      description: |
        RTQの設問が最後まで行き、次の設問が無い事を指す。

    PlanType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/plan-types.json'
        - type: string
          description: |
            運用タイプを表すコード。

    Termination:
      type: boolean
      description: |
        ゴールの解約を行うか否かのフラグ。

    GoalId:
      type: string
      format: uuidV4
      description: |
        ゴールのID。

    GoalName:
      type: string
      maxLength: 85
      description: |
        ゴールの名前。

    GoalImportance:
      type: number
      minimum: 1
      maximum: 10
      description: |
        ゴールの重要度。

    GoalType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/goal-types.json'
        - type: string
        - description: |
            ゴールの種類。

    TotalPotentialCustomers:
      type: number
      description: 見込み顧客の総数。

    TotalAccountOpened:
      type: number
      description: 口座開設中顧客の総数。

    TotalAccountRegistrationFailure:
      type: number
      description: 口座不備顧客の総数。

    TotalAvailableContract:
      type: number
      description: 契約可能な顧客の総数。

    TotalUnderContract:
      type: number
      description: 契約中の顧客の総数。

    TotalFas:
      type: number
      description: FAの総数。

    TotalBranches:
      type: number
      description: 部店の総数。

    TotalBeforeContractGoals:
      type: number
      description: 契約前のゴールの総数。

    TotalUnderOperationGoals:
      type: number
      description: 運用中のゴールの総数。

    TotalContractTerminatedGoals:
      type: number
      description: 契約が終了したゴールの総数。

    FundDeposit:
      type: number
      description: 預かり資金残高。

    FollowUpRate:
      type: number
      description: フォロー実施率。

    GoalCompletedAt:
      type: string
      format: iso8601
      description: |
        ゴールの達成予定日。UTC。

    AssetManagementPlanStartsAt:
      type: string
      format: iso8601
      description: |
        運用プランの開始日。UTC。

    RetirementPlanStartAge:
      type: number
      minimum: 0
      description: |
        セカンドライフの開始年齢。

    RetirementPlanPeriod:
      type: number
      minimum: 0
      description: |
        セカンドライフの期間(年)。

    BasicPensionAmounts:
      type: number
      minimum: 0
      description: |
        基礎年金の年間受取額。

    WelfarePensionAmounts:
      type: number
      minimum: 0
      description: |
        厚生年金の年間受取額。

    PrivatePensions:
      type: array
      description: |
        私的年金の詳細情報オブジェクトを含む配列。
      items:
        type: object
        description: |
          私的年金の詳細情報を含むオブジェクト。
        required:
          - type
          - name
          - amounts
          - receiving_age
          - period
        properties:
          type:
            allOf:
              - $ref: '../../packages/app/src/modules/constants/snippets/private-pension-types.json'
              - type: string
                description: |
                  私的年金の受取方法の種類。
          name:
            type: string
            description: |
              私的年金の名前。
          amounts:
            type: number
            minimum: 0
            description: |
              私的年金の金額。
          receiving_age:
            type: number
            minimum: 0
            description: |
              私的年金の受取開始年齢。
          period:
            type: number
            minimum: 0
            nullable: true
            description: |
              私的年金の期間。

    LivingExpenses:
      type: object
      required:
        - type
        - details
        - total_amounts
        - increasing_rate
      properties:
        type:
          allOf:
            - $ref: '../../packages/app/src/modules/constants/snippets/living-expenses-types.json'
            - type: string
              description: |
                生活費の種類。
        details:
          type: array
          description: |
            生活費の詳細情報オブジェクトを含む配列。
          items:
            type: object
            description: |
              生活費の詳細情報を含むオブジェクト。
            required:
              - name
              - amounts
            properties:
              name:
                type: string
                description: |
                  生活費の詳細情報の名前。
              amounts:
                type: number
                minimum: 0
                description: |
                  生活費の詳細情報の金額。
        total_amounts:
          type: number
          minimum: 0
          description: |
            生活費の合計金額。
        increasing_rate:
          type: object
          required:
            - type
            - rate
          properties:
            type:
              allOf:
                - $ref: '../../packages/app/src/modules/constants/snippets/living-expenses-increasing-rate-types.json'
                - type: string
                  description: |
                    生活費の上昇率の種類。
            rate:
              type: integer
              format: float
              description: |
                生活費の上昇率。

    SchoolStartYear:
      type: number
      format: yyyy
      description: |
        進学予定(年)。

    SchoolStartMonth:
      type: number
      minimum: 1
      maximum: 12
      description: |
        進学予定(月)。

    FirstChoiceSchool:
      type: object
      description: |
        志望校。
      required:
        - school_entrance_fee
        - school_fee
        - school_period_years
      properties:
        school_entrance_fee:
          type: number
          minimum: 0
          description: |
            入学金・寄付金等。
        school_fee:
          type: number
          minimum: 0
          description: |
            授業料・施設設備費等(年)。
        school_period_years:
          type: number
          minimum: 1
          description: |
            学校の期間(年)。

    BackUpSchool:
      type: object
      description: |
        併願校。
      required:
        - contribution_amounts
        - back_up_school_number
      properties:
        contribution_amounts:
          type: number
          minimum: 0
          description: |
            納付金等。
        back_up_school_number:
          type: number
          minimum: 0
          description: |
            学校数。

    Remittance:
      type: object
      description: |
        仕送り。
      required:
        - remittance_monthly_amount
        - remittance_period_years
      properties:
        remittance_monthly_amount:
          type: number
          minimum: 0
          description: |
            毎月の仕送り等。
        remittance_period_years:
          type: number
          minimum: 1
          description: |
            仕送りの期間(年)。

    RenovationScheduledTimeYear:
      type: number
      format: yyyy
      description: |
        リフォームの予定時期(年)。

    RenovationScheduledTimeMonth:
      type: number
      minimum: 1
      maximum: 12
      description: |
        リフォームの予定時期(月)。

    RenovationAmounts:
      type: object
      description: |
        リフォームの費用。
      required:
        - kitchen_repair_amounts
        - bath_repair_amounts
        - toilet_repair_amounts
        - washbasin_repair_amounts
        - change_floor_plan_amounts
        - wallpaper_replacement_amounts
        - floor_heating_amounts
      properties:
        kitchen_repair_amounts:
          type: number
          minimum: 0
          description: |
            キッチンの修繕・交換。
        bath_repair_amounts:
          type: number
          minimum: 0
          description: |
            お風呂の修繕・交換。
        toilet_repair_amounts:
          type: number
          minimum: 0
          description: |
            トイレの修繕・交換。
        washbasin_repair_amounts:
          type: number
          minimum: 0
          description: |
            洗面所の修繕・交換。
        change_floor_plan_amounts:
          type: number
          minimum: 0
          description: |
            間取りの変更。
        wallpaper_replacement_amounts:
          type: number
          minimum: 0
          description: |
            壁紙や床材・天井の張り替え。
        floor_heating_amounts:
          type: number
          minimum: 0
          description: |
            床暖房。

    OtherRenovationsName:
      type: string
      description: |
        その他のリフォームの名前。

    OtherRenovationsAmounts:
      type: number
      minimum: 0
      description: |
        その他のリフォームの金額。

    GoalAmount:
      type: number
      minimum: 0
      description: |
        運用プランの目標金額（円）。

    GoalCreatedAt:
      type: string
      format: iso8601
      description: |
        ゴール設定日。UTC。

    InitialInvestment:
      type: number
      minimum: 0
      description: |
        運用プランの初期投資額（円）。

    ReserveMonthlyAmount:
      type: number
      minimum: 0
      description: |
        毎月の積立額（円）。

    IncreasedAmountAtBonus:
      type: number
      minimum: 0
      description: |
        ボーナス時の増額（円）。

    BonusMonths:
      type: array
      description: |
        ボーナス月のみ含む配列。
      minimum: 0
      maximum: 2
      items:
        $ref: '#/components/schemas/BonusMonth'

    BonusMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        ボーナス月。

    FundsSource:
      type: string
      description: |
        資金源。

    PercentageInFinancialAssetsOver:
      type: number
      minimum: 0
      description: |
        金融資産における割合の下限(%)。

    PercentageInFinancialAssetsUnder:
      type: number
      minimum: 0
      description: |
        金融資産における割合の上限(%)。

    RiskTolerancePeriodMonths:
      type: number
      minimum: 0
      description: |
        RTQで利用する運用期間(月)。

    DeferralStartsAt:
      type: string
      format: iso8601
      description: |
        据置の開始日。UTC。

    WithdrawalStartYear:
      type: number
      format: yyyy
      description: |
        引出の開始年。今年かそれ以上。

    WithdrawalStartMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        引出の開始月。

    WithdrawalFrequency:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/withdrawal-frequency-types.json'
        - type: string
          description: |
            引出の頻度。

    WithdrawalAmount:
      type: number
      minimum: 0
      description: |
        引出額（円）。

    WithdrawalPeriodYears:
      type: number
      minimum: 0
      description: |
        引出期間(年)。

    WithdrawalPeriodMonths:
      type: number
      minimum: 0
      maximum: 12
      description: |
        引出期間(月)。

    AssetManagementPeriodYears:
      type: number
      minimum: 0
      description: |
        運用期間(年)。

    AssetManagementPeriodMonths:
      type: number
      minimum: 0
      maximum: 12
      description: |
        運用期間(月)。

    AssetManagementStartYear:
      type: number
      format: yyyy
      description: |
        運用の開始年。(MILIONから取得)

    AssetManagementStartMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        運用の開始月。(MILIONから取得)

    AssumedAssetManagementStartYear:
      type: number
      format: yyyy
      description: |
        運用の開始想定年。

    AssumedAssetManagementStartMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        運用の開始想定月。

    ReservePeriodYears:
      type: number
      minimum: 0
      description: |
        積立期間(年)。

    ReservePeriodMonths:
      type: number
      minimum: 0
      maximum: 12
      description: |
        積立期間(月)。

    ReserveStartYear:
      type: number
      format: yyyy
      description: |
        積立の開始年。

    ReserveStartMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        積立の開始月。

    RiskLevels:
      type: object
      required:
        - '1'
      nullable: true
      description: |
        運用レベルとその状態を含むオブジェクト。
          - 運用レベルの数はテナント毎に変動する
          - available: 選択可能な運用レベル
          - unavailable: 選択不可能な運用レベル
          - selected: 選択された運用レベル
      properties:
        '1':
          type: string
          allOf:
            - $ref: '../../packages/app/src/modules/constants/snippets/risk-level-types.json'

    RiskLevel:
      type: number
      minimum: 1
      maximum: 7
      description: |
        運用レベル。

    AchievementProbability:
      type: number
      minimum: 0
      maximum: 100
      description: |
        達成確率。単位はパーセント。
    GoalAchievementDegree:
      type: number
      minimum: 0
      maximum: 100
      description: |
        目標達成度。単位はパーセント

    contractMethod:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/contract-methods.json'
        - type: string
          description: |
            契約方式。

    NewNisa:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/nisa-account-codes.json'
        - type: string
          description: |
            新NISA口座

    FutureReturn:
      type: array
      description: |
        将来推計のグラフで使用する予測データ
      items:
        type: object
        required:
          - percentile
          - data
        properties:
          percentile:
            allOf:
              - $ref: '#/components/schemas/AchievementProbability'
              - description: |
                  将来推計のグラフのパーセンテージ
          data:
            type: array
            description: |
              将来推計のグラフのデータを表す1次元配列
            items:
              type: number

    AssetManagementResult:
      type: array
      description: |
        将来推計グラフで使用する実際の運用結果
      items:
        type: number

    ReserveTotalAmount:
      type: number
      description: |
        積立金額の総和

    WithdrawalTotalAmount:
      type: number
      description: |
        引出金額の総和

    ContractStatus:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/contract-statuses.json'
        - type: string
          description: |
            契約の状態。

    ApplicationStatus:
      type: string
      description: |
        アプリケーションの状態。

    ContractClass:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/contract-class.json'
        - type: string
          description: |
            Milion側の契約区分
              0: 新規契約申込み
              1: 新規契約締結
              2: 変更覚書締結
              3: 解約（顧客の意思で全解約）
              4: 契約満了（運用終了のため残高0）
              5: 途中終了（一部解約又は引出の結果残高0）
              6: 新規契約申込み無効
              7: 変更覚書申込み
              8: 変更覚書申込み無効
              9: 解約申込み
              10: 解約申込み無効

    InvalidApplicationReason:
      type: string
      description: |
        契約申込が無効になった理由
      example: 口座開設不備

    FluctuationFundsType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/fluctuation-funds-types.json'
        - type: string
          description: |
            資金の増額・減額のタイプ。

    FluctuationFundsAmount:
      type: number
      description: |
        資金の増額・減額の金額（円）。
        テナント毎に固有の下限と上限金額を持つ。

    SpotInvestDate:
      type: string
      description: |
        追加投資実行日

    PartCancelInvestDate:
      type: string
      description: |
        一部解約実行日

    CurrentPrice:
      type: number
      minimum: 0
      description: |
        時価評価金額(MILIONから取得、単位は円)。

    Growth:
      type: number
      minimum: 0
      description: |
        NISA成長投資枠利用可能金額（年間枠）。

    LifeGrowth:
      type: number
      minimum: 0
      description: |
        NISA成長投資枠利用可能金額（生涯枠）。

    LifeAll:
      type: number
      minimum: 0
      description: |
        NISA総利用可能金額（生涯枠）。

    FundUrl:
      type: string
      description: |
        運用ファンド情報ページURL。

    FirstAchievementProbability:
      type: number
      minimum: 0
      maximum: 100
      description: |
        目標としている達成確率。単位はパーセント。

    ErrorBaseModel:
      type: object
      required:
        - error_code
        - error_description
      properties:
        error_code:
          type: string
          description: |
            エラーに関する概要。
        error_description:
          type: string
          description: |
            エラーに関する詳細。
      example:
        error_code: 'エラー概要'
        error_description: 'エラー詳細'

    Note:
      type: string
      description: |
        顧客ノート。
      example: 趣味はゴルフとお酒（洋酒がお好き）

    ApplicationDate:
      type: string
      description: |
        申請日

    ApplicationType:
      type: string
      description: |
        申請の区分
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/application-types.json'
        - type: string
          description: |
            申請の区分。

    ActivityId:
      type: string
      format: uuidV4
      description: |
        アクティビティのID。

    ActivityCategory:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/activity-categories.json'
        - type: string
          description: |
            アクティビティのカテゴリー。

    Priority:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/priority-types.json'
        - type: string
          description: |
            アクティビティの優先度。

    Deadline:
      type: string
      format: iso8601
      description: |
        アクティビティの期限。

    DeadlineFilterType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/deadline-filter-types.json'
        - type: string
          description: |
            アクティビティ一覧でフィルタする期限のタイプ。

    ActivityStatusFilterType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/activity-status-filter-types.json'
        - type: string
          description: |
            アクティビティ一覧でフィルタするステータスのタイプ。

    ActivitySortType:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/activity-sort-types.json'
        - type: string
          description: |
            アクティビティ一覧のソートのタイプ。

    ActivityTitle:
      type: string
      description: |
        アクティビティのタイトル。

    ActivityDescription:
      type: string
      description: |
        アクティビティの説明。

    ActivityStatus:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/activity-statuses.json'
        - type: string
          description: |
            アクティビティのステータス。

    ActivityUpdatedAt:
      type: string
      format: iso8601
      description: |
        アクティビティの更新日時。UTC。

    ActivityCreatedAt:
      type: string
      format: iso8601
      description: |
        アクティビティの作成日時。UTC。

    AfterFollowTypes:
      allOf:
        - type: string
        - $ref: '../../packages/app/src/modules/constants/snippets/after-follow-types.json'
      description: |
        アフターフォローのタイプ

    AfterFollowStatus:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/after-follow-statuses.json'
        - type: string
      description: |
        アフターフォローのステータス。

    AfterFollowHistoryYear:
      type: number
      format: yyyy
      description: |
        アフターフォローの年

    AfterFollowHistoryMonth:
      type: number
      minimum: 1
      maximum: 12
      format: m
      description: |
        アフターフォローの月

    ApplicationRejectComment:
      type: string
      description: |
        申請の却下のコメント。

    ApplicationCancelComment:
      type: string
      description: |
        申請の取消のコメント。

    IsContractAvailable:
      type: boolean
      description: |
        以下のチェックを行い申請可能かどうかを返却する
          - 申請額のチェック(通称1000万チェック、テナント固有)
          - account_statusチェック

          申請OKの場合: true
          申請NGの場合: false

    TotalInitialInvestment:
      type: number
      description: |
        これまでの契約を含む当初資金合計
        申請額チェックで使用する集計済み金額

    IsRiskToleranceQuestionsAnswered:
      type: boolean
      description: RTQ回答済みか否か

    IsNotGoalMaximum:
      type: boolean
      description: ゴール最大数に達していないか否か

    IsValidAccountStatus:
      type: boolean
      description: 契約出来る状態の account_status か否か

    IsModified:
      type: boolean
      description: 契約変更時にゴールまたは運用プランが変更されているか否か

    IsNotFundConflicted:
      type: boolean
      description: 同一ファンドに申し込んでコンフリクトしていないか否か

    AlertId:
      type: string
      format: uuidV4
      description: |
        アラートを一意に識別するID。

    AlertType:
      type: string
      description: |
        アラートの区分。
          achievement_probability_danger_zone: 達成確率危険域
          failure: 不成立
          unsuccess: 不出来
          failure_to_follow_up: アフターフォロー未実施
          nearing_goal: ゴール達成に接近
          nearing_goal_amount: 目標達成に接近
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/alert-types.json'

    AlertCreatedAt:
      type: string
      format: iso8601
      description: |
        アラートの発生日。UTC。

    AlertDescription:
      type: string
      description: |
        アラートの説明。

    AlertStatus:
      type: string
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/alert-status.json'
      description: |
        アラートのステータス。

    AfterFollowRequestAndResponse:
      type: object
      required:
        - january
        - february
        - march
        - april
        - may
        - june
        - july
        - august
        - september
        - october
        - november
        - december
      description: |
        月ごとのアフターフォローの種類。
      properties:
        january:
          $ref: '#/components/schemas/AfterFollowTypes'
        february:
          $ref: '#/components/schemas/AfterFollowTypes'
        march:
          $ref: '#/components/schemas/AfterFollowTypes'
        april:
          $ref: '#/components/schemas/AfterFollowTypes'
        may:
          $ref: '#/components/schemas/AfterFollowTypes'
        june:
          $ref: '#/components/schemas/AfterFollowTypes'
        july:
          $ref: '#/components/schemas/AfterFollowTypes'
        august:
          $ref: '#/components/schemas/AfterFollowTypes'
        september:
          $ref: '#/components/schemas/AfterFollowTypes'
        october:
          $ref: '#/components/schemas/AfterFollowTypes'
        november:
          $ref: '#/components/schemas/AfterFollowTypes'
        december:
          $ref: '#/components/schemas/AfterFollowTypes'

      example:
        january: 'status_report'
        february: 'follow_up'
        march: 'follow_up'
        april: 'meeting'
        may: 'follow_up'
        june: 'follow_up'
        july: 'status_report'
        august: 'follow_up'
        september: 'follow_up'
        october: 'meeting'
        november: 'follow_up'
        december: 'follow_up'

    AlertAndAfterFollowSummary:
      type: array
      description: |
        アラートとアフターフォローの概要。
      items:
        type: object
        properties:
          achievement_probability_danger_zone:
            type: number
            description: |
              達成確率危険域(アラート/顧客)数
          nearing_goal:
            type: number
            description: |
              ゴール間近(アラート/顧客)数
          failure_and_unsuccess:
            type: number
            description: |
              不出来・不成立(アラート/顧客)数
          after_follow:
            type: number
            description: |
              アフターフォロー未実施顧客数

    FaCustomerListResponse:
      type: object
      required:
        - customers
        - total_customers
      description: |
        FAの顧客情報一覧オブジェクト。
      properties:
        customers:
          type: array
          description: |
            顧客一覧。顧客がいない場合は空配列。
          items:
            type: object
            required:
              - customer_uuid
              - customer_name
              - today_anniversaries
              - type
              - tenant_id
              - advisory_channel_id
              - branch_id
              - fa_id
              - after_follow_status
              - after_follow_type
              - account_status
              - has_valid_contract
              - is_alerted
            properties:
              customer_uuid:
                $ref: '#/components/schemas/CustomerUuid'
              customer_name:
                $ref: '#/components/schemas/CustomerName'
              today_anniversaries:
                $ref: '#/components/schemas/TodayAnniversaries'
              type:
                $ref: '#/components/schemas/CustomerType'
              tenant_id:
                $ref: '#/components/schemas/TenantId'
              advisory_channel_id:
                $ref: '#/components/schemas/AdvisoryChannelId'
              branch_id:
                $ref: '#/components/schemas/BranchId'
              fa_id:
                $ref: '#/components/schemas/FaId'
              after_follow_status:
                $ref: '#/components/schemas/AfterFollowStatus'
              after_follow_type:
                allOf:
                  - nullable: true
                  - $ref: '#/components/schemas/AfterFollowTypes'
              account_status:
                $ref: '#/components/schemas/AccountStatus'
              has_valid_contract:
                $ref: '#/components/schemas/HasValidContract'
              is_alerted:
                $ref: '#/components/schemas/IsAlerted'
        total_customers:
          type: number
          description: |
            顧客の総数。
        alert_and_after_follow_summary:
          $ref: '#/components/schemas/AlertAndAfterFollowSummary'

    DownloadCsvHistoryResponse:
      type: object
      description: |
        Csvダウンロード履歴オブジェクト。
      properties:
        history:
          type: array
          description: |
            Csvダウンロード履歴リスト。
          items:
            type: object
            properties:
              created_at:
                type: string
                format: iso8601
                description: |
                  csvファイルの作成日時。UTC。
              user_name:
                type: string
                description: |
                  CSVファイルの作成者。
              files:
                type: string
                description: |
                  CSVファイルの対象ファイル名。
        total_count:
          type: number
          description: |
            履歴の総数。

    DocumentPdfResponse:
      type: object
      description: |
        申込書一覧取得。
      properties:
        documents:
          type: array
          description: |
            申込書リスト。
          items:
            type: object
            properties:
              id:
                type: integer
                description: |
                  ドキュメント番号。
              document_name:
                type: string
                description: |
                  保存ファイル名。

    DownloadPdfResponse:
      type: object
      description: |
        申込書ダウンロード。
      properties:
        picture:
          type: string
          example: 'JVBERi0xLjcNJeLjz9MNCjE0MiAwIG9iag08PC9MaW5lYXJpemVkID'
        file_name:
          type: string
          example: 'unyohoukokusho_0000044_001_20220331_1.pdf'

    ContractDateDetailResponse:
      type: object
      required:
        - contract_date
        - first_contract_date
      properties:
        contract_date:
          type: string
        first_contract_date:
          type: string
      example:
        - contract_date: '2023-05-18'
          first_contract_date: '2023-04-18'

    CustomerCreationRequest:
      type: object
      required:
        - customer_name
        - customer_name_kana
        - gender
        - zip
        - pref
        - address
        - address_kana
        - tel
        - email
        - birth_date
        - nisa_account
      properties:
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        gender:
          $ref: '#/components/schemas/Gender'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        email:
          $ref: '#/components/schemas/Email'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
        nisa_account:
          $ref: '#/components/schemas/NisaAccount'
      example:
        customer_name: '伊藤 睦月'
        customer_name_kana: 'イトウ ムツキ'
        gender: '1'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        tel: '09000000000'
        email: 'taro.yamamoto@example.com'
        birth_date: '1972-06-01T00:00:00.000Z'
        nisa_account: '2'

    CustomerCreationResponse:
      type: object
      required:
        - customer_uuid
        - customer_name
        - customer_name_kana
        - gender
        - zip
        - pref
        - address
        - address_kana
        - tel
        - email
        - birth_date
        - nisa_account
      properties:
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        gender:
          $ref: '#/components/schemas/Gender'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        email:
          $ref: '#/components/schemas/Email'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
        nisa_account:
          $ref: '#/components/schemas/NisaAccount'
      example:
        customer_uuid: 'af36b592-6a33-af4c-e27a-dde3f3bfb864'
        customer_name: '伊藤 睦月'
        customer_name_kana: 'イトウ ムツキ'
        gender: '1'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        tel: '09000000000'
        email: 'taro.yamamoto@example.com'
        birth_date: '1972-06-01T00:00:00.000Z'
        nisa_account: '2'

    CorporateCustomerCreationRequest:
      type: object
      required:
        - customer_name
        - customer_name_kana
        - birth_date
        - zip
        - pref
        - address
        - address_kana
        - tel
        - chief_name
        - chief_address
        - chief_birth_date
        - agent_name
        - agent_address
        - agent_email
        - agent_birth_date
        - ruler_name
        - ruler_address
        - ruler_relation
        - ruler_birth_date
      properties:
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        chief_name:
          $ref: '#/components/schemas/ChiefName'
        chief_address:
          $ref: '#/components/schemas/ChiefAddress'
        chief_birth_date:
          $ref: '#/components/schemas/ChiefBirthDate'
        agent_name:
          $ref: '#/components/schemas/AgentName'
        agent_address:
          $ref: '#/components/schemas/AgentAddress'
        agent_birth_date:
          $ref: '#/components/schemas/AgentBirthDate'
        agent_email:
          $ref: '#/components/schemas/AgentEmail'
        ruler_name:
          $ref: '#/components/schemas/RulerName'
        ruler_address:
          $ref: '#/components/schemas/RulerAddress'
        ruler_birth_date:
          $ref: '#/components/schemas/RulerBirthDate'
        ruler_relation:
          $ref: '#/components/schemas/RulerRelation'
      example:
        customer_name: 'タナカ製作所株式会社'
        customer_name_kana: 'タナカセイサクショカブシキガイシャ'
        birth_date: '1976-12-20T00:00:00.000Z'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        tel: '0300000000'
        chief_name: '田中寿次郎'
        chief_address: '千代田区千代田1-1'
        chief_birth_date: '1953-02-28T00:00:00.000Z'
        agent_name: '斎藤四郎'
        agent_address: '千代田区千代田1-1'
        agent_birth_date: '1976-08-21T00:00:00.000Z'
        agent_email: 'shiro.saito@example.com'
        ruler_name: '田中ホールディングス株式会社'
        ruler_address: '東京都千代田区千代田1-1'
        ruler_birth_date: '1998-12-20T00:00:00.000Z'
        ruler_relation: '持ち株会社'

    CorporateCustomerCreationResponse:
      type: object
      required:
        - customer_uuid
        - customer_name
        - customer_name_kana
        - birth_date
        - zip
        - pref
        - address
        - address_kana
        - tel
        - chief_name
        - chief_address
        - chief_birth_date
        - agent_name
        - agent_address
        - agent_birth_date
        - agent_email
        - ruler_name
        - ruler_address
        - ruler_relation
        - ruler_birth_date
      properties:
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        chief_name:
          $ref: '#/components/schemas/ChiefName'
        chief_address:
          $ref: '#/components/schemas/ChiefAddress'
        chief_birth_date:
          $ref: '#/components/schemas/ChiefBirthDate'
        agent_name:
          $ref: '#/components/schemas/AgentName'
        agent_address:
          $ref: '#/components/schemas/AgentAddress'
        agent_birth_date:
          $ref: '#/components/schemas/AgentBirthDate'
        agent_email:
          $ref: '#/components/schemas/AgentEmail'
        ruler_name:
          $ref: '#/components/schemas/RulerName'
        ruler_address:
          $ref: '#/components/schemas/RulerAddress'
        ruler_birth_date:
          $ref: '#/components/schemas/RulerBirthDate'
        ruler_relation:
          $ref: '#/components/schemas/RulerRelation'
      example:
        customer_uuid: '7e673f13-0fde-4f5e-ba90-7c8e6fddd81f'
        customer_name: 'タナカ製作所株式会社'
        customer_name_kana: 'タナカセイサクショカブシキガイシャ'
        birth_date: '1976-12-20T00:00:00.000Z'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        tel: '0300000000'
        chief_name: '田中寿次郎'
        chief_address: '千代田区千代田1-1'
        chief_birth_date: '1953-02-28T00:00:00.000Z'
        agent_name: '斎藤四郎'
        agent_address: '千代田区千代田1-1'
        agent_birth_date: '1976-08-21T00:00:00.000Z'
        agent_email: 'shiro.saito@example.com'
        ruler_name: '田中ホールディングス株式会社'
        ruler_address: '東京都千代田区千代田1-1'
        ruler_birth_date: '1998-12-20T00:00:00.000Z'
        ruler_relation: '持ち株会社'

    CustomerDetailResponse:
      type: object
      required:
        - customer_uuid
        - customer_name
        - customer_name_kana
        - gender
        - birth_date
        - occupation
        - account_management_branch_code
        - specific
        - account_management_account_no
        - email
        - tel
        - zip
        - pref
        - address
        - address_kana
        - complete_address
        - complete_address_kana
        - family
        - wedding_anniversary
        - residence
        - financial_assets
        - income
        - outgo
        - future_expense_income
        - risk_tolerance_date
        - account_status
        - last_contact_date
        - total_signed_contracts
        - total_unsigned_contracts
        - total_end_contracts
        - electronic_delivery_agreement
        - has_valid_contract
        - job
        - asset_flg
        - experience_flg
        - is_display
        - is_potential
      properties:
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        gender:
          $ref: '#/components/schemas/Gender'
        birth_date:
          allOf:
            - $ref: '#/components/schemas/BirthDate'
            - default: '""'
        occupation:
          allOf:
            - $ref: '#/components/schemas/Occupation'
            - default: '""'
        account_management_branch_code:
          allOf:
            - $ref: '#/components/schemas/AccountManagementBranchCode'
            - default: '""'
        specific:
          allOf:
            - $ref: '#/components/schemas/Specific'
            - default: '""'
        account_management_account_no:
          allOf:
            - $ref: '#/components/schemas/AccountManagementAccountNo'
            - default: '""'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        complete_address:
          $ref: '#/components/schemas/CompleteAddress'
        complete_address_kana:
          $ref: '#/components/schemas/CompleteAddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        email:
          $ref: '#/components/schemas/Email'
        family:
          allOf:
            - $ref: '#/components/schemas/Family'
            - default: []
        residence:
          allOf:
            - $ref: '#/components/schemas/Residence'
            # TODO: It seems to me that we can't specify an empty object
            # as a default value...
            #- default: {}
            - description: |
                住居情報を含むオブジェクト。住居情報が存在しない場合は空のオブジェクト。
        financial_assets:
          allOf:
            - $ref: '#/components/schemas/FinancialAssets'
            - default: []
        income:
          $ref: '#/components/schemas/Income'
        outgo:
          $ref: '#/components/schemas/Outgo'
        future_expense_income:
          allOf:
            - $ref: '#/components/schemas/FutureExpenseIncomeList'
            - default: []
        wedding_anniversary:
          allOf:
            - $ref: '#/components/schemas/WeddingAnniversary'
            - default: '""'
        risk_tolerance_date:
          allOf:
            - $ref: '#/components/schemas/RiskToleranceDate'
            - default: '""'
        account_status:
          $ref: '#/components/schemas/AccountStatus'
        last_contact_date:
          allOf:
            - $ref: '#/components/schemas/LastContactDate'
            - default: '""'
        total_signed_contracts:
          $ref: '#/components/schemas/TotalSignedContracts'
        total_unsigned_contracts:
          $ref: '#/components/schemas/TotalUnsignedContracts'
        total_end_contracts:
          $ref: '#/components/schemas/TotalEndContracts'
        electronic_delivery_agreement:
          $ref: '#/components/schemas/ElectronicDeliveryAgreement'
        has_valid_contract:
          $ref: '#/components/schemas/HasValidContract'
        is_display:
          $ref: '#/components/schemas/IsDisplay'
        is_potential:
          $ref: '#/components/schemas/IsPotential'
    CustomerUpdateRequest:
      type: object
      required:
        - customer_name
        - customer_name_kana
        - gender
        - birth_date
        - occupation
        - account_status
        - account_management_branch_code
        - specific
        - account_management_account_no
        - email
        - tel
        - zip
        - pref
        - address
        - address_kana
        - family
        - wedding_anniversary
        - residence
        - financial_assets
        - income
        - outgo
        - future_expense_income
        - electronic_delivery_agreement
        - nisa_account
        - is_display
      properties:
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        gender:
          $ref: '#/components/schemas/Gender'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
        occupation:
          allOf:
            - $ref: '#/components/schemas/Occupation'
            - default: '""'
        account_status:
          allOf:
            - $ref: '#/components/schemas/AccountStatus'
            - default: '""'
        specific:
          allOf:
            - $ref: '#/components/schemas/Specific'
            - default: '""'
        account_management_branch_code:
          allOf:
            - $ref: '#/components/schemas/AccountManagementBranchCode'
            - default: '""'
        account_management_account_no:
          allOf:
            - $ref: '#/components/schemas/AccountManagementAccountNo'
            - default: '""'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        tel:
          $ref: '#/components/schemas/Tel'
        email:
          $ref: '#/components/schemas/Email'
        family:
          allOf:
            - $ref: '#/components/schemas/Family'
            - default: []
        residence:
          allOf:
            - $ref: '#/components/schemas/Residence'
            # TODO: We wanna specify an empty object as a default value.
            - description: |
                住居情報を含むオブジェクト。住居情報を指定しない場合は空のオブジェクト。
        financial_assets:
          allOf:
            - $ref: '#/components/schemas/FinancialAssets'
            - default: []
        income:
          $ref: '#/components/schemas/Income'
        outgo:
          $ref: '#/components/schemas/Outgo'
        wedding_anniversary:
          allOf:
            - $ref: '#/components/schemas/WeddingAnniversary'
            - default: '""'
        future_expense_income:
          allOf:
            - $ref: '#/components/schemas/FutureExpenseIncomeList'
            - default: []
        electronic_delivery_agreement:
          $ref: '#/components/schemas/ElectronicDeliveryAgreement'
        nisa_account:
          $ref: '#/components/schemas/NisaAccount'
        is_display:
          $ref: '#/components/schemas/IsDisplay'

      example:
        customer_name: '伊藤 睦月'
        customer_name_kana: 'イトウ ムツキ'
        gender: '1'
        birth_date: '1972-06-01T00:00:00.000Z'
        occupation: 'office_worker'
        account_status: '1'
        specific: '1'
        account_management_branch_code: '000'
        account_management_account_no: '0000000'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        tel: '09000000000'
        email: 'taro.yamamoto@example.com'
        family:
          - name: 伊藤 葉月
            name_kana: イトウ ハズキ
            relationship: spouse
            birth_date: '1975-08-08T00:00:00.000Z'
            occupation: office_worker
          - name: 伊藤 三日月
            name_kana: イトウ ミツキ
            relationship: child
            birth_date: '2006-04-21T00:00:00.000Z'
            occupation: other
          - name: 伊藤 月夜野
            name_kana: イトウ ツキヨノ
            relationship: child
            birth_date: '2010-12-16T00:00:00.000Z'
            occupation: other
        wedding_anniversary: '2002-02-02T00:00:00.000Z'
        residence:
          type: owned_house
          history_years: 10
          history_months: 6
        financial_assets:
          - type: savings_deposit
            amounts: 34500000
          - type: fixed_deposit
            amounts: 9560000
          - type: personal_pension
            amounts: 24500000
        income: 100
        outgo: 30
        future_expense_income:
          - type: income
            name: 退職金
            year: 2037
            month: 6
            amounts: 30000000
          - type: expense
            name: 家のリフォーム
            year: 2037
            month: 8
            amounts: 20000000
        electronic_delivery_agreement: '1'
        nisa_account: '1'
        is_display: true

    CorporateCustomerUpdateRequest:
      type: object
      required:
        - customer_name
        - customer_name_kana
        - birth_date
        - account_status
        - account_management_branch_code
        - specific
        - account_management_account_no
        - tel
        - email
        - zip
        - pref
        - address
        - address_kana
        - financial_assets
        - chief_name
        - chief_address
        - chief_birth_date
        - agent_name
        - agent_address
        - agent_birth_date
        - agent_email
        - agent_tel
        - ruler_name
        - ruler_address
        - ruler_relation
        - ruler_birth_date
        - electronic_delivery_agreement
        - is_display
      properties:
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
          description: |
            設立年月日。UTC。
        account_status:
          allOf:
            - $ref: '#/components/schemas/AccountStatus'
            - default: '""'
        specific:
          allOf:
            - $ref: '#/components/schemas/Specific'
            - default: '""'
        account_management_branch_code:
          allOf:
            - $ref: '#/components/schemas/AccountManagementBranchCode'
            - default: '""'
        account_management_account_no:
          allOf:
            - $ref: '#/components/schemas/AccountManagementAccountNo'
            - default: '""'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        email:
          $ref: '#/components/schemas/Email'
        tel:
          $ref: '#/components/schemas/Tel'
        financial_assets:
          allOf:
            - $ref: '#/components/schemas/FinancialAssets'
            - default: []
        chief_name:
          $ref: '#/components/schemas/ChiefName'
        chief_address:
          $ref: '#/components/schemas/ChiefAddress'
        chief_birth_date:
          $ref: '#/components/schemas/ChiefBirthDate'
        agent_name:
          $ref: '#/components/schemas/AgentName'
        agent_address:
          $ref: '#/components/schemas/AgentAddress'
        agent_birth_date:
          $ref: '#/components/schemas/AgentBirthDate'
        agent_email:
          $ref: '#/components/schemas/AgentEmail'
        agent_tel:
          $ref: '#/components/schemas/AgentTel'
        ruler_name:
          $ref: '#/components/schemas/RulerName'
        ruler_address:
          $ref: '#/components/schemas/RulerAddress'
        ruler_birth_date:
          $ref: '#/components/schemas/RulerBirthDate'
        ruler_relation:
          $ref: '#/components/schemas/RulerRelation'
        electronic_delivery_agreement:
          $ref: '#/components/schemas/ElectronicDeliveryAgreement'
        is_display:
          $ref: '#/components/schemas/IsDisplay'
      example:
        customer_name: 'タナカ製作所株式会社'
        customer_name_kana: 'タナカセイサクショカブシキガイシャ'
        birth_date: '1972-06-01T00:00:00.000Z'
        account_status: '1'
        specific: '1'
        account_management_branch_code: '000'
        account_management_account_no: '0000000'
        zip: '1008111'
        pref: '13'
        address: '千代田区千代田1-1'
        address_kana: 'チヨダクチヨダ1-1'
        email: 'shiro.saito@example.com'
        tel: '0600000000'
        financial_assets:
          - type: savings_deposit
            amounts: 34500000
          - type: fixed_deposit
            amounts: 9560000
          - type: personal_pension
            amounts: 24500000
        chief_name: '田中寿次郎'
        chief_address: '千代田区千代田1-1'
        chief_birth_date: '1953-02-28T00:00:00.000Z'
        agent_name: '斎藤四郎'
        agent_address: '千代田区千代田1-1'
        agent_birth_date: '1976-08-21T00:00:00.000Z'
        agent_email: 'shiro.saito@example.com'
        agent_tel: '0000000000'
        ruler_name: '田中ホールディングス株式会社'
        ruler_address: '東京都千代田区千代田1-1'
        ruler_birth_date: '1998-12-20T00:00:00.000Z'
        ruler_relation: '持ち株会社'
        electronic_delivery_agreement: '1'
        is_display: true

    CorporateCustomerDetailResponse:
      type: object
      required:
        - customer_uuid
        - customer_name
        - customer_name_kana
        - birth_date
        - account_status
        - account_management_branch_code
        - specific
        - account_management_account_no
        - tel
        - email
        - zip
        - pref
        - address
        - address_kana
        - complete_address
        - complete_address_kana
        - financial_assets
        - risk_tolerance_date
        - total_signed_contracts
        - total_unsigned_contracts
        - total_end_contracts
        - chief_name
        - chief_address
        - chief_birth_date
        - agent_name
        - agent_address
        - agent_birth_date
        - agent_email
        - agent_tel
        - ruler_name
        - ruler_address
        - ruler_relation
        - ruler_birth_date
        - electronic_delivery_agreement
        - job
        - asset_flg
        - experience_flg
        - is_display
        - is_potential
      properties:
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_name_kana:
          $ref: '#/components/schemas/CustomerNameKana'
        birth_date:
          $ref: '#/components/schemas/BirthDate'
          description: |
            設立年月日。UTC。
        account_status:
          $ref: '#/components/schemas/AccountStatus'
        specific:
          allOf:
            - $ref: '#/components/schemas/Specific'
            - default: '""'
        account_management_branch_code:
          allOf:
            - $ref: '#/components/schemas/AccountManagementBranchCode'
            - default: '""'
        account_management_account_no:
          allOf:
            - $ref: '#/components/schemas/AccountManagementAccountNo'
            - default: '""'
        zip:
          $ref: '#/components/schemas/Zip'
        pref:
          $ref: '#/components/schemas/Pref'
        address:
          $ref: '#/components/schemas/Address'
        address_kana:
          $ref: '#/components/schemas/AddressKana'
        complete_address:
          $ref: '#/components/schemas/CompleteAddress'
        complete_address_kana:
          $ref: '#/components/schemas/CompleteAddressKana'
        email:
          $ref: '#/components/schemas/Email'
        tel:
          $ref: '#/components/schemas/Tel'
        financial_assets:
          allOf:
            - $ref: '#/components/schemas/FinancialAssets'
            - default: []
        risk_tolerance_date:
          allOf:
            - $ref: '#/components/schemas/RiskToleranceDate'
            - default: '""'
        total_signed_contracts:
          $ref: '#/components/schemas/TotalSignedContracts'
        total_unsigned_contracts:
          $ref: '#/components/schemas/TotalUnsignedContracts'
        total_end_contracts:
          $ref: '#/components/schemas/TotalEndContracts'
        chief_name:
          $ref: '#/components/schemas/ChiefName'
        chief_address:
          $ref: '#/components/schemas/ChiefAddress'
        chief_birth_date:
          $ref: '#/components/schemas/ChiefBirthDate'
        agent_name:
          $ref: '#/components/schemas/AgentName'
        agent_address:
          allOf:
            - $ref: '#/components/schemas/AgentAddress'
            - default: '""'
        agent_birth_date:
          $ref: '#/components/schemas/AgentBirthDate'
        agent_email:
          $ref: '#/components/schemas/AgentEmail'
        agent_tel:
          $ref: '#/components/schemas/AgentTel'
        ruler_name:
          $ref: '#/components/schemas/RulerName'
        ruler_address:
          $ref: '#/components/schemas/RulerAddress'
        ruler_birth_date:
          $ref: '#/components/schemas/RulerBirthDate'
        ruler_relation:
          $ref: '#/components/schemas/RulerRelation'
        electronic_delivery_agreement:
          $ref: '#/components/schemas/ElectronicDeliveryAgreement'
        is_display:
          $ref: '#/components/schemas/IsDisplay'
        is_potential:
          $ref: '#/components/schemas/IsPotential'

    CustomerDocumentRequest:
      type: object
      required:
        - document_id
        - customer_uuid
      properties:
        document_id:
          $ref: '#/components/schemas/DocumentId'
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
      example:
        document_id: '127'
        customer_uuid: 'fc4933a0-471d-43fe-86d5-dad44bb8d141'

    AgentChangeRequest:
      type: object
      required:
        - customers
        - new_fa_id
      properties:
        customers:
          type: array
          format: uuidV4
          description: |
            顧客ID。
        new_fa_id:
          $ref: '#/components/schemas/FaId'
      example:
        customers: ['fc4933a0-471d-43fe-86d5-dad44bb8d141']
        new_fa_id: 'fc4933a0-471d-43fe-86d5-dad44bb8d141'

    RiskToleranceCreationAndUpdateRequest:
      type: object
      required:
        - answers
      properties:
        answers:
          type: array
          items:
            type: string
      example:
        answers: ['A1-2', 'A2-3', 'A7-3', 'A8-1', 'A9-5']

    RiskToleranceDetailResponse:
      type: object
      required:
        - questions
        - updated_at
      properties:
        updated_at:
          type: string
          format: iso8601
        questions:
          type: array
          items:
            required:
              - question_text
              - answer_text
              - answer_no
              - question_image_base64
            properties:
              question_text:
                $ref: '#/components/schemas/QuestionText'
              answer_text:
                $ref: '#/components/schemas/AnswerText'
              answer_no:
                $ref: '#/components/schemas/AnswerNo'
              question_image_base64:
                $ref: '#/components/schemas/QuestionImageBase64'
      example:
        updated_at: '2021-02-07T00:00:00.000Z'
        questions:
          - question_text: '投資経験・知識として、当てはまるものを選択してください。'
            answer_text: 'B. 株式や投資信託等への投資経験があり、ある程度の知識がある。'
            answer_no: 'A1-2'
            question_image_base64: null
          - question_text: '株式や投資信託等への投資経験年数として、当てはまるものを選択してください。\r\n'
            answer_text: 'C. 1年以上3年未満'
            answer_no: 'A2-3'
            question_image_base64: null
          - question_text: '投資方針の異なる5人のファンドマネージャーがいます。今回の投資資金の運用を任せたいと思うファンドマネージャーを選択してください。\r\n'
            answer_text: '【Cさん】リターンをやや高めたいので、リスクを許容する。'
            answer_no: 'A7-3'
            question_image_base64: 'iVBORw0KGgoAAAANSUhEUgAACBMAAAM7CAIAAACd5t0YAAAACXBIWXMAADXUAAA11AFeZeUIAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167...'

    RiskToleranceQuestionsResponse:
      type: object
      required:
        - is_completed
      properties:
        question_text:
          $ref: '#/components/schemas/QuestionText'
        question_image_base64:
          $ref: '#/components/schemas/QuestionImageBase64'
        is_completed:
          $ref: '#/components/schemas/IsCompleted'
        answer_choices:
          items:
            type: object
            required:
              - answer_no
              - answer_text
            properties:
              answer_no:
                $ref: '#/components/schemas/AnswerNo'
              answer_text:
                $ref: '#/components/schemas/AnswerText'

    RiskToleranceTermResponse:
      type: array
      items:
        type: object
        required:
          - tern_title
          - tern_description
        properties:
          tern_title:
            type: string
          tern_description:
            type: string
      example:
        - term_title: '短期的に損失が生じる局面'
          tern_description: '半年から1年程度の期間での損失発生を想定しています。過去の短期的な投資環境の悪化事例は、2000年代のITバブル崩壊、2007年のサブプライムショック、2008年のリーマンショックなどがあります。'

    RiskToleranceResponse:
      type: object
      required:
        - risk_levels
      properties:
        risk_levels:
          $ref: '#/components/schemas/RiskLevels'
      example:
        risk_levels:
          '1': 'available'
          '2': 'available'
          '3': 'selected'
          '4': 'unavailable'
          '5': 'unavailable'

    RetirementPlanCreationOrUpdateRequest:
      type: object
      required:
        - name
        - importance
        - retirement_plan_start_age
        - retirement_plan_period
        - basic_pension_amounts
        - welfare_pension_amounts
        - private_pensions
        - living_expenses
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        retirement_plan_start_age:
          $ref: '#/components/schemas/RetirementPlanStartAge'
        retirement_plan_period:
          $ref: '#/components/schemas/RetirementPlanPeriod'
        basic_pension_amounts:
          $ref: '#/components/schemas/BasicPensionAmounts'
        welfare_pension_amounts:
          $ref: '#/components/schemas/WelfarePensionAmounts'
        private_pensions:
          allOf:
            - $ref: '#/components/schemas/PrivatePensions'
            - default: []
        living_expenses:
          allOf:
            - $ref: '#/components/schemas/LivingExpenses'
            - default: []
      example:
        name: 充実したセカンドライフ
        importance: 3
        retirement_plan_start_age: 65
        retirement_plan_period: 20
        basic_pension_amounts: 780000
        welfare_pension_amounts: 780000
        private_pensions:
          - type: pension
            name: 確定拠出年金
            amounts: 1440000
            receiving_age: 65
            period: 10
          - type: lump_sum
            name: 三日月生命年金保険
            amounts: 1440000
            receiving_age: 65
            period: null
        living_expenses:
          type: details
          details:
            - name: 食費
              amounts: 40000
            - name: 固定費
              amounts: 40000
          total_amounts: 164000
          increasing_rate:
            type: optimistic
            rate: 0.5

    GoalAssetManagementPlanDetailResponse:
      type: object
      properties:
        plan_type:
          $ref: '#/components/schemas/PlanType'
        name:
          $ref: '#/components/schemas/GoalName'
        goal_amount:
          allOf:
            - $ref: '#/components/schemas/GoalAmount'
            - default: null
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - default: null
            - nullable: true
        future_return:
          allOf:
            - $ref: '#/components/schemas/FutureReturn'
            - default: []
        asset_management_result:
          allOf:
            - $ref: '#/components/schemas/AssetManagementResult'
            - default: []
        starts_at:
          allOf:
            - $ref: '#/components/schemas/AssetManagementPlanStartsAt'
            - default: '""'
        completed_at:
          allOf:
            - $ref: '#/components/schemas/GoalCompletedAt'
            - default: '""'
        created_at:
          $ref: '#/components/schemas/GoalCreatedAt'
        initial_investment:
          allOf:
            - $ref: '#/components/schemas/InitialInvestment'
            - default: null
        asset_management_period_years:
          allOf:
            - $ref: '#/components/schemas/AssetManagementPeriodYears'
            - default: null
        asset_management_period_months:
          allOf:
            - $ref: '#/components/schemas/AssetManagementPeriodMonths'
            - default: null
        reserve_start_year:
          allOf:
            - $ref: '#/components/schemas/ReserveStartYear'
            - default: null
        reserve_start_month:
          allOf:
            - $ref: '#/components/schemas/ReserveStartMonth'
            - default: null
        reserve_period_years:
          allOf:
            - $ref: '#/components/schemas/ReservePeriodYears'
            - default: null
        reserve_period_months:
          allOf:
            - $ref: '#/components/schemas/ReservePeriodMonths'
            - default: null
        withdrawal_start_year:
          allOf:
            - $ref: '#/components/schemas/WithdrawalStartYear'
            - default: null
        withdrawal_start_month:
          allOf:
            - $ref: '#/components/schemas/WithdrawalStartMonth'
            - default: null
        withdrawal_period_years:
          allOf:
            - $ref: '#/components/schemas/WithdrawalPeriodYears'
            - default: null
        withdrawal_period_months:
          allOf:
            - $ref: '#/components/schemas/WithdrawalPeriodMonths'
            - default: null
        withdrawal_frequency:
          allOf:
            - $ref: '#/components/schemas/WithdrawalFrequency'
            - default: '""'
        withdrawal_amount:
          allOf:
            - $ref: '#/components/schemas/WithdrawalAmount'
            - default: null
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        application_fa_name:
          $ref: '#/components/schemas/FaName'
        application_date:
          $ref: '#/components/schemas/ApplicationDate'
        funds_source:
          allOf:
            - $ref: '#/components/schemas/FundsSource'
            - default: null
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        reserve_monthly_amount:
          allOf:
            - $ref: '#/components/schemas/ReserveMonthlyAmount'
            - default: null
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - default: null
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - default: null
        fluctuation_funds_type:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsType'
            - default: null
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - default: null
        spot_invest_date:
          allOf:
            - $ref: '#/components/schemas/SpotInvestDate'
            - default: null
        part_cancel_invest_date:
          allOf:
            - $ref: '#/components/schemas/PartCancelInvestDate'
            - default: null

    DonationCreationOrUpdateRequest:
      type: object
      required:
        - name
        - importance
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
      example:
        name: 寄付がしたいから
        importance: 5

    DonationDetailResponse:
      type: object
      required:
        - name
        - contract_status
        - importance
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        importance:
          $ref: '#/components/schemas/GoalImportance'
      example:
        name: 寄付がしたいから
        contract_status: 'on_contract_application'
        importance: 1

    DonationAssetManagementPlanDetailResponse:
      type: object
      required:
        - made
        - revised
        - contract_status
        - invalid_application_reason
        - contract_class
      properties:
        made:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中以外の状態のデータ。
            - required:
                - plan_type
                - name
                - goal_amount
                - achievement_probability
                - future_return
                - asset_management_result
                - starts_at
                - completed_at
                - created_at
                - initial_investment
                - asset_management_period_years
                - asset_management_period_months
                - reserve_start_year
                - reserve_start_month
                - reserve_period_years
                - reserve_period_months
                - withdrawal_start_year
                - withdrawal_start_month
                - withdrawal_period_years
                - withdrawal_period_months
                - withdrawal_frequency
                - withdrawal_amount
                - risk_level
                - application_fa_name
                - application_date
                - percentage_in_financial_assets_over
                - percentage_in_financial_assets_under
                - reserve_monthly_amount
                - bonus_months
                - increased_amount_at_bonus
        revised:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中のデータ。
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        invalid_application_reason:
          allOf:
            - $ref: '#/components/schemas/InvalidApplicationReason'
            - default: null
        contract_class:
          allOf:
            - $ref: '#/components/schemas/ContractClass'
            - default: null

    InvestmentCreationOrUpdateRequest:
      type: object
      required:
        - name
        - importance
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
      example:
        name: 資産を運用で増やす
        importance: 5

    InvestmentDetailResponse:
      type: object
      required:
        - name
        - importance
        - contract_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
      example:
        name: 資産を運用で増やす
        importance: 9
        contract_status: 'on_contract_application'

    InvestmentAssetManagementPlanDetailResponse:
      type: object
      required:
        - made
        - revised
        - contract_status
        - invalid_application_reason
        - contract_class
      properties:
        made:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中以外の状態のデータ。
            - required:
                - plan_type
                - name
                - goal_amount
                - achievement_probability
                - future_return
                - asset_management_result
                - starts_at
                - completed_at
                - created_at
                - initial_investment
                - asset_management_period_years
                - asset_management_period_months
                - reserve_start_year
                - reserve_start_month
                - reserve_period_years
                - reserve_period_months
                - withdrawal_start_year
                - withdrawal_start_month
                - withdrawal_period_years
                - withdrawal_period_months
                - withdrawal_frequency
                - withdrawal_amount
                - risk_level
                - application_fa_name
                - application_date
                - percentage_in_financial_assets_over
                - percentage_in_financial_assets_under
                - reserve_monthly_amount
                - bonus_months
                - increased_amount_at_bonus
        revised:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中のデータ。
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        invalid_application_reason:
          allOf:
            - $ref: '#/components/schemas/InvalidApplicationReason'
            - default: null
        contract_class:
          allOf:
            - $ref: '#/components/schemas/ContractClass'
            - default: null

    EducationCreationOrUpdateRequest:
      type: object
      required:
        - name
        - importance
        - school_start_year
        - school_start_month
        - first_choice_school
        - back_up_school
        - remittance
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        school_start_year:
          $ref: '#/components/schemas/SchoolStartYear'
        school_start_month:
          $ref: '#/components/schemas/SchoolStartMonth'
        first_choice_school:
          $ref: '#/components/schemas/FirstChoiceSchool'
        back_up_school:
          $ref: '#/components/schemas/BackUpSchool'
        remittance:
          $ref: '#/components/schemas/Remittance'
      example:
        name: 長女の大学入学
        importance: 4
        school_start_year: 2045
        school_start_month: 4
        first_choice_school:
          school_entrance_fee: 300000
          school_fee: 1100000
          school_period_years: 4
        back_up_school:
          contribution_amounts: 400000
          back_up_school_number: 1
        remittance:
          remittance_monthly_amount: 150000
          remittance_period_years: 4

    RenovationCreationOrUpdateRequest:
      type: object
      required:
        - name
        - importance
        - renovation_scheduled_time_year
        - renovation_scheduled_time_month
        - renovation_amounts
        - other_renovations
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        renovation_scheduled_time_year:
          $ref: '#/components/schemas/RenovationScheduledTimeYear'
        renovation_scheduled_time_month:
          $ref: '#/components/schemas/RenovationScheduledTimeMonth'
        renovation_amounts:
          $ref: '#/components/schemas/RenovationAmounts'
        other_renovations:
          type: array
          default: []
          description: |
            その他のリフォームを含む配列。
          items:
            type: object
            required:
              - name
              - amounts
            properties:
              name:
                $ref: '#/components/schemas/OtherRenovationsName'
              amounts:
                $ref: '#/components/schemas/OtherRenovationsAmounts'
      example:
        name: すてきなリフォーム
        importance: 3
        renovation_scheduled_time_year: 2037
        renovation_scheduled_time_month: 8
        renovation_amounts:
          kitchen_repair_amounts: 60000000
          bath_repair_amounts: 300000
          toilet_repair_amounts: 12000000
          washbasin_repair_amounts: 780000
          change_floor_plan_amounts: 0
          wallpaper_replacement_amounts: 600000
          floor_heating_amounts: 0
        other_renovations:
          - name: 給湯器入れ替え
            amounts: 200000

    RenovationDetailResponse:
      type: object
      required:
        - name
        - importance
        - renovation_scheduled_time_year
        - renovation_scheduled_time_month
        - renovation_amounts
        - contract_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        renovation_scheduled_time_year:
          $ref: '#/components/schemas/RenovationScheduledTimeYear'
        renovation_scheduled_time_month:
          $ref: '#/components/schemas/RenovationScheduledTimeMonth'
        renovation_amounts:
          $ref: '#/components/schemas/RenovationAmounts'
        other_renovations:
          type: array
          default: []
          description: |
            その他のリフォームを含む配列。
          items:
            type: object
            required:
              - name
              - amounts
            properties:
              name:
                $ref: '#/components/schemas/OtherRenovationsName'
              amounts:
                $ref: '#/components/schemas/OtherRenovationsAmounts'
          $ref: '#/components/schemas/OtherRenovationsName'
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
      example:
        name: すてきなリフォーム
        importance: 10
        renovation_scheduled_time_year: 2037
        renovation_scheduled_time_month: 8
        renovation_amounts:
          kitchen_repair_amounts: 60000000
          bath_repair_amounts: 300000
          toilet_repair_amounts: 12000000
          washbasin_repair_amounts: 780000
          change_floor_plan_amounts: 0
          wallpaper_replacement_amounts: 600000
          floor_heating_amounts: 0
        other_renovations:
          - name: 給湯器入れ替え
            amounts: 200000
        contract_status: 'on_contract_application'

    RenovationAssetManagementPlanDetailResponse:
      type: object
      required:
        - made
        - revised
        - contract_status
        - invalid_application_reason
        - contract_class
      properties:
        made:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中以外の状態のデータ。
            - required:
                - plan_type
                - name
                - goal_amount
                - achievement_probability
                - future_return
                - asset_management_result
                - starts_at
                - completed_at
                - created_at
                - initial_investment
                - asset_management_period_years
                - asset_management_period_months
                - reserve_start_year
                - reserve_start_month
                - reserve_period_years
                - reserve_period_months
                - withdrawal_start_year
                - withdrawal_start_month
                - withdrawal_period_years
                - withdrawal_period_months
                - withdrawal_frequency
                - withdrawal_amount
                - risk_level
                - application_fa_name
                - application_date
                - percentage_in_financial_assets_over
                - percentage_in_financial_assets_under
                - reserve_monthly_amount
                - bonus_months
                - increased_amount_at_bonus
        revised:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中のデータ。
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        invalid_application_reason:
          allOf:
            - $ref: '#/components/schemas/InvalidApplicationReason'
            - default: null
        contract_class:
          allOf:
            - $ref: '#/components/schemas/ContractClass'
            - default: null

    GoalListResponse:
      type: object
      required:
        - risk_tolerance_date
        - goals
      description: |
        顧客の全ゴール一覧。
      properties:
        risk_tolerance_date:
          allOf:
            - $ref: '#/components/schemas/RiskToleranceDate'
            - default: '""'
        goals:
          type: array
          default: []
          description: |
            顧客のゴールを含む配列。
          items:
            type: object
            required:
              - type
              - name
              - importance
              - completed_at
              - starts_at
              - goal_id
              - plan_type
              - created_at
              - achievement_probability
              - tenant_id
              - advisory_channel_id
              - branch_id
              - fa_id
              - contract_class
            properties:
              type:
                $ref: '#/components/schemas/GoalType'
              name:
                $ref: '#/components/schemas/GoalName'
              importance:
                $ref: '#/components/schemas/GoalImportance'
              # A goal may exist without any relation to an asset management plan
              # As a result, the values below can be empty.
              completed_at:
                allOf:
                  - $ref: '#/components/schemas/GoalCompletedAt'
                  - default: '""'
              starts_at:
                allOf:
                  - $ref: '#/components/schemas/AssetManagementPlanStartsAt'
                  - default: '""'
              goal_id:
                $ref: '#/components/schemas/GoalId'
              plan_type:
                $ref: '#/components/schemas/PlanType'
              created_at:
                $ref: '#/components/schemas/GoalCreatedAt'
              achievement_probability:
                allOf:
                  - $ref: '#/components/schemas/AchievementProbability'
                  - nullable: true
              tenant_id:
                $ref: '#/components/schemas/TenantId'
              advisory_channel_id:
                $ref: '#/components/schemas/AdvisoryChannelId'
              branch_id:
                $ref: '#/components/schemas/BranchId'
              fa_id:
                $ref: '#/components/schemas/FaId'
              contract_class:
                allOf:
                  - $ref: '#/components/schemas/ContractClass'
                  - nullable: true

    RetirementPlanDetailResponse:
      type: object
      required:
        - name
        - importance
        - living_expenses
        - starts_at
        - scheduled_for
        - basic_pension_amounts
        - welfare_pension_amounts
        - private_pensions
        - contract_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        starts_at:
          $ref: '#/components/schemas/RetirementPlanStartAge'
        scheduled_for:
          $ref: '#/components/schemas/RetirementPlanPeriod'
        living_expenses:
          $ref: '#/components/schemas/LivingExpenses'
        basic_pension_amounts:
          $ref: '#/components/schemas/BasicPensionAmounts'
        welfare_pension_amounts:
          $ref: '#/components/schemas/WelfarePensionAmounts'
        private_pensions:
          $ref: '#/components/schemas/PrivatePensions'
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
      example:
        name: 充実したセカンドライフ
        importance: null
        starts_at: 65
        scheduled_for: 20
        basic_pension_amounts: 780000
        welfare_pension_amounts: 780000
        private_pensions:
          - type: pension
            name: 確定拠出年金
            amounts: 1440000
            receiving_age: 65
            period: 10
          - type: lump_sum
            name: 三日月生命年金保険
            amounts: 1440000
            receiving_age: 65
            period: null
        living_expenses:
          type: details
          details:
            - name: 食費
              amounts: 40000
            - name: 固定費
              amounts: 40000
          total_amounts: 164000
          increasing_rate:
            type: optimistic
            rate: 0.5
        contract_status: 'on_contract_application'

    RetirementPlanAssetManagementPlanDetailResponse:
      type: object
      required:
        - made
        - revised
        - contract_status
        - invalid_application_reason
        - contract_class
      properties:
        made:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中以外の状態のデータ。
            - required:
                - plan_type
                - name
                - goal_amount
                - achievement_probability
                - future_return
                - asset_management_result
                - starts_at
                - completed_at
                - created_at
                - initial_investment
                - asset_management_period_years
                - asset_management_period_months
                - reserve_start_year
                - reserve_start_month
                - reserve_period_years
                - reserve_period_months
                - withdrawal_start_year
                - withdrawal_start_month
                - withdrawal_period_years
                - withdrawal_period_months
                - withdrawal_frequency
                - withdrawal_amount
                - risk_level
                - application_fa_name
                - application_date
                - percentage_in_financial_assets_over
                - percentage_in_financial_assets_under
                - reserve_monthly_amount
                - bonus_months
                - increased_amount_at_bonus
        revised:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中のデータ。
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        invalid_application_reason:
          allOf:
            - $ref: '#/components/schemas/InvalidApplicationReason'
            - default: null
        contract_class:
          allOf:
            - $ref: '#/components/schemas/ContractClass'
            - default: null

    EducationDetailResponse:
      type: object
      required:
        - name
        - importance
        - school_start_year
        - school_start_month
        - first_choice_school
        - back_up_school
        - remittance
        - contract_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        importance:
          $ref: '#/components/schemas/GoalImportance'
        school_start_year:
          $ref: '#/components/schemas/SchoolStartYear'
        school_start_month:
          $ref: '#/components/schemas/SchoolStartMonth'
        first_choice_school:
          $ref: '#/components/schemas/FirstChoiceSchool'
        back_up_school:
          $ref: '#/components/schemas/BackUpSchool'
        remittance:
          $ref: '#/components/schemas/Remittance'
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
      example:
        name: 長女の大学入学
        importance: 3
        school_start_year: 2045
        school_start_month: 4
        first_choice_school:
          school_entrance_fee: 300000
          school_fee: 1100000
          school_period_years: 4
        back_up_school:
          contribution_amounts: 400000
          back_up_school_number: 1
        remittance:
          remittance_monthly_amount: 150000
          remittance_period_years: 4
        contract_status: 'on_contract_application'

    EducationAssetManagementPlanDetailResponse:
      type: object
      required:
        - made
        - revised
        - contract_status
        - invalid_application_reason
        - contract_class
      properties:
        made:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中以外の状態のデータ。
            - required:
                - plan_type
                - name
                - goal_amount
                - achievement_probability
                - future_return
                - asset_management_result
                - starts_at
                - completed_at
                - created_at
                - initial_investment
                - asset_management_period_years
                - asset_management_period_months
                - reserve_start_year
                - reserve_start_month
                - reserve_period_years
                - reserve_period_months
                - withdrawal_start_year
                - withdrawal_start_month
                - withdrawal_period_years
                - withdrawal_period_months
                - withdrawal_frequency
                - withdrawal_amount
                - risk_level
                - application_fa_name
                - application_date
                - percentage_in_financial_assets_over
                - percentage_in_financial_assets_under
                - reserve_monthly_amount
                - bonus_months
                - increased_amount_at_bonus
        revised:
          allOf:
            - $ref: '#/components/schemas/GoalAssetManagementPlanDetailResponse'
            - description: |
                見直し中のデータ。
        contract_status:
          $ref: '#/components/schemas/ContractStatus'
        invalid_application_reason:
          allOf:
            - $ref: '#/components/schemas/InvalidApplicationReason'
            - default: null
        contract_class:
          allOf:
            - $ref: '#/components/schemas/ContractClass'
            - default: null

    AssetManagementPlanGoalDetailResponse:
      allOf:
        - $ref: '#/components/schemas/RetirementPlanDetailResponse'
        - $ref: '#/components/schemas/RenovationDetailResponse'
        - $ref: '#/components/schemas/EducationDetailResponse'
        - $ref: '#/components/schemas/DonationDetailResponse'
        - $ref: '#/components/schemas/InvestmentDetailResponse'

    DeferralWithdrawalCreationAndUpdateRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - withdrawal_period_years
        - withdrawal_period_months
        - withdrawal_start_year
        - withdrawal_start_month
        - withdrawal_frequency
        - withdrawal_amount
        - risk_level
      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          $ref: '#/components/schemas/FluctuationFundsAmount'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        assumed_asset_management_start_year:
          $ref: '#/components/schemas/AssumedAssetManagementStartYear'
        assumed_asset_management_start_month:
          $ref: '#/components/schemas/AssumedAssetManagementStartMonth'
      example:
        goal_amount: 23000000
        initial_investment: 10000000
        funds_source: '預貯金'
        percentage_in_financial_assets_over: 30
        percentage_in_financial_assets_under: 50
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000
        withdrawal_period_years: 20
        withdrawal_period_months: 0
        withdrawal_start_year: 2037
        withdrawal_start_month: 6
        withdrawal_frequency: 'monthly'
        withdrawal_amount: 360000
        risk_level: 3
        assumed_asset_management_start_year: 2022
        assumed_asset_management_start_month: 3

    DeferralCreationAndUpdateRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - asset_management_period_years
        - asset_management_period_months
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          $ref: '#/components/schemas/FluctuationFundsAmount'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        assumed_asset_management_start_year:
          $ref: '#/components/schemas/AssumedAssetManagementStartYear'
        assumed_asset_management_start_month:
          $ref: '#/components/schemas/AssumedAssetManagementStartMonth'

      example:
        goal_amount: 22320000
        initial_investment: 15000000
        asset_management_period_years: 15
        asset_management_period_months: 10
        funds_source: '預貯金'
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000
        percentage_in_financial_assets_over: 30
        percentage_in_financial_assets_under: 50
        risk_level: 3
        assumed_asset_management_start_year: 2022
        assumed_asset_management_start_month: 3

    AssetManagementPlanCreationAndUpdateResponse:
      type: object
      minProperties: 1
      maxProperties: 1
      properties:
        contract_judgements:
          type: object
          required:
            - is_risk_tolerance_questions_answered
            - is_not_fund_conflicted
            - is_modified
          properties:
            is_risk_tolerance_questions_answered:
              $ref: '#/components/schemas/IsRiskToleranceQuestionsAnswered'
            is_not_fund_conflicted:
              $ref: '#/components/schemas/IsNotFundConflicted'
            is_modified:
              $ref: '#/components/schemas/IsModified'
        is_revise_deleted:
          type: boolean

    DeferralDetailResponse:
      allOf:
        - type: object
        - required:
            - goal_amount
            - initial_investment
            - asset_management_period_years
            - asset_management_period_months
            - asset_management_start_year
            - asset_management_start_month
            - funds_source
            - fluctuation_funds_type
            - fluctuation_funds_amount
            - current_price
            - percentage_in_financial_assets_over
            - percentage_in_financial_assets_under
            - risk_levels
            - goal_type
        - properties:
            goal_amount:
              $ref: '#/components/schemas/GoalAmount'
            initial_investment:
              $ref: '#/components/schemas/InitialInvestment'
            asset_management_period_years:
              $ref: '#/components/schemas/AssetManagementPeriodYears'
            asset_management_period_months:
              $ref: '#/components/schemas/AssetManagementPeriodMonths'
            asset_management_start_year:
              $ref: '#/components/schemas/AssetManagementStartYear'
            asset_management_start_month:
              $ref: '#/components/schemas/AssetManagementStartMonth'
            funds_source:
              $ref: '#/components/schemas/FundsSource'
            fluctuation_funds_type:
              $ref: '#/components/schemas/FluctuationFundsType'
            fluctuation_funds_amount:
              $ref: '#/components/schemas/FluctuationFundsAmount'
            current_price:
              $ref: '#/components/schemas/CurrentPrice'
            percentage_in_financial_assets_over:
              $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
            percentage_in_financial_assets_under:
              $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
            risk_levels:
              $ref: '#/components/schemas/RiskLevels'
            goal_type:
              $ref: '#/components/schemas/GoalType'
        - $ref: '#/components/schemas/AssetManagementPlanGoalDetailResponse'

    DeferralFuturePredictionRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - asset_management_period_years
        - asset_management_period_months
        - risk_level
      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsType'
            - nullable: true
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true

      example:
        goal_amount: 23000000
        initial_investment: 10000000
        asset_management_period_years: 20
        asset_management_period_months: 0
        risk_level: 3
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000

    DeferralFuturePredictionResponse:
      type: object
      required:
        - value
      properties:
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - nullable: true
        future_return:
          $ref: '#/components/schemas/FutureReturn'
        asset_management_result:
          $ref: '#/components/schemas/AssetManagementResult'
        reserve_total_amount:
          $ref: '#/components/schemas/ReserveTotalAmount'
        withdrawal_total_amount:
          $ref: '#/components/schemas/WithdrawalTotalAmount'
      example:
        achievement_probability: 88
        future_return:
          - percentile: 88
            data: [12, 12, 13]
          - percentile: 90
            data: [13, 14, 15]
          - percentile: 50
            data: [10, 11, 12]
          - percentile: 10
            data: [9, 10, 11]
        asset_management_result: [7, 8, 9, 10]
        reserve_total_amount: null
        withdrawal_total_amount: null

    ReserveCreationAndUpdateRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - asset_management_period_years
        - asset_management_period_months
        - reserve_start_year
        - reserve_start_month
        - reserve_period_years
        - reserve_period_months
        - risk_level
      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          $ref: '#/components/schemas/FluctuationFundsAmount'
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        assumed_asset_management_start_year:
          $ref: '#/components/schemas/AssumedAssetManagementStartYear'
        assumed_asset_management_start_month:
          $ref: '#/components/schemas/AssumedAssetManagementStartMonth'

      example:
        goal_amount: 23000000
        initial_investment: 4000000
        reserve_monthly_amount: 50000
        increased_amount_at_bonus: 200000
        bonus_months:
          - 6
          - 12
        funds_source: '預貯金'
        percentage_in_financial_assets_over: 30
        percentage_in_financial_assets_under: 50
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000
        asset_management_period_years: 30
        asset_management_period_months: 0
        reserve_start_year: 2021
        reserve_start_month: 8
        reserve_period_years: 25
        reserve_period_months: 0
        risk_level: 3
        assumed_asset_management_start_year: 2022
        assumed_asset_management_start_month: 3

    ReserveDetailResponse:
      allOf:
        - type: object
        - required:
            - goal_amount
            - initial_investment
            - reserve_monthly_amount
            - increased_amount_at_bonus
            - bonus_months
            - funds_source
            - percentage_in_financial_assets_over
            - percentage_in_financial_assets_under
            - fluctuation_funds_type
            - fluctuation_funds_amount
            - current_price
            - asset_management_period_years
            - asset_management_period_months
            - asset_management_start_year
            - asset_management_start_month
            - reserve_start_year
            - reserve_start_month
            - reserve_period_years
            - reserve_period_months
            - risk_levels
            - goal_type
        - properties:
            goal_amount:
              $ref: '#/components/schemas/GoalAmount'
            initial_investment:
              $ref: '#/components/schemas/InitialInvestment'
            reserve_monthly_amount:
              $ref: '#/components/schemas/ReserveMonthlyAmount'
            increased_amount_at_bonus:
              allOf:
                - $ref: '#/components/schemas/IncreasedAmountAtBonus'
                - nullable: true
            bonus_months:
              allOf:
                - $ref: '#/components/schemas/BonusMonths'
                - nullable: true
            funds_source:
              $ref: '#/components/schemas/FundsSource'
            percentage_in_financial_assets_over:
              $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
            percentage_in_financial_assets_under:
              $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
            fluctuation_funds_type:
              $ref: '#/components/schemas/FluctuationFundsType'
            fluctuation_funds_amount:
              $ref: '#/components/schemas/FluctuationFundsAmount'
            current_price:
              $ref: '#/components/schemas/CurrentPrice'
            asset_management_period_years:
              $ref: '#/components/schemas/AssetManagementPeriodYears'
            asset_management_period_months:
              $ref: '#/components/schemas/AssetManagementPeriodMonths'
            asset_management_start_year:
              $ref: '#/components/schemas/AssetManagementStartYear'
            asset_management_start_month:
              $ref: '#/components/schemas/AssetManagementStartMonth'
            reserve_start_year:
              $ref: '#/components/schemas/ReserveStartYear'
            reserve_start_month:
              $ref: '#/components/schemas/ReserveStartMonth'
            reserve_period_years:
              $ref: '#/components/schemas/ReservePeriodYears'
            reserve_period_months:
              $ref: '#/components/schemas/ReservePeriodMonths'
            risk_levels:
              $ref: '#/components/schemas/RiskLevels'
            goal_type:
              $ref: '#/components/schemas/GoalType'

        - $ref: '#/components/schemas/AssetManagementPlanGoalDetailResponse'

    ReserveFuturePredictionRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - asset_management_period_years
        - asset_management_period_months
        - reserve_start_year
        - reserve_start_month
        - reserve_period_years
        - reserve_period_months
        - risk_level

      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsType'
            - nullable: true
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true

      example:
        goal_amount: 23000000
        initial_investment: 10000000
        reserve_monthly_amount: 50000
        increased_amount_at_bonus: 200000
        bonus_months:
          - 6
          - 12
        asset_management_period_years: 30
        asset_management_period_months: 0
        reserve_start_year: 2021
        reserve_start_month: 8
        reserve_period_years: 25
        reserve_period_months: 0
        risk_level: 3
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000

    ReserveFuturePredictionResponse:
      type: object
      required:
        - value
      properties:
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - nullable: true
        future_return:
          $ref: '#/components/schemas/FutureReturn'
        asset_management_result:
          $ref: '#/components/schemas/AssetManagementResult'
        reserve_total_amount:
          $ref: '#/components/schemas/ReserveTotalAmount'
        withdrawal_total_amount:
          $ref: '#/components/schemas/WithdrawalTotalAmount'
      example:
        achievement_probability: 88
        future_return:
          - percentile: 88
            data: [12, 12, 13]
          - percentile: 90
            data: [13, 14, 15]
          - percentile: 50
            data: [10, 11, 12]
          - percentile: 10
            data: [9, 10, 11]
        asset_management_result: [7, 8, 9, 10]
        reserve_total_amount: 100
        withdrawal_total_amount: null

    ReserveDeferralWithdrawalCreationAndUpdateRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - withdrawal_frequency
        - withdrawal_amount
        - reserve_start_year
        - reserve_start_month
        - reserve_period_years
        - reserve_period_months
        - withdrawal_start_year
        - withdrawal_start_month
        - withdrawal_period_years
        - withdrawal_period_months
        - risk_level
      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          $ref: '#/components/schemas/FluctuationFundsAmount'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        assumed_asset_management_start_year:
          $ref: '#/components/schemas/AssumedAssetManagementStartYear'
        assumed_asset_management_start_month:
          $ref: '#/components/schemas/AssumedAssetManagementStartMonth'

      example:
        goal_amount: 23000000
        initial_investment: 4000000
        reserve_monthly_amount: 50000
        increased_amount_at_bonus: 200000
        bonus_months:
          - 6
          - 12
        funds_source: '預貯金'
        percentage_in_financial_assets_over: 30
        percentage_in_financial_assets_under: 50
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000
        withdrawal_frequency: 'monthly'
        withdrawal_amount: 360000
        reserve_start_year: 2040
        reserve_start_month: 2
        reserve_period_years: 10
        reserve_period_months: 6
        withdrawal_start_year: 2050
        withdrawal_start_month: 12
        withdrawal_period_years: 20
        withdrawal_period_months: 0
        risk_level: 3
        assumed_asset_management_start_year: 2022
        assumed_asset_management_start_month: 3

    ReserveDeferralWithdrawalDetailResponse:
      allOf:
        - type: object
        - required:
            - name
            - goal_amount
            - initial_investment
            - reserve_monthly_amount
            - increased_amount_at_bonus
            - bonus_months
            - funds_source
            - percentage_in_financial_assets_over
            - percentage_in_financial_assets_under
            - fluctuation_funds_type
            - fluctuation_funds_amount
            - current_price
            - withdrawal_frequency
            - withdrawal_amount
            - asset_management_period_years
            - asset_management_period_months
            - asset_management_start_year
            - asset_management_start_month
            - reserve_start_year
            - reserve_start_month
            - reserve_period_years
            - reserve_period_months
            - withdrawal_start_year
            - withdrawal_start_month
            - withdrawal_period_years
            - withdrawal_period_months
            - risk_levels
            - goal_type
        - properties:
            name:
              $ref: '#/components/schemas/GoalName'
            goal_amount:
              $ref: '#/components/schemas/GoalAmount'
            initial_investment:
              $ref: '#/components/schemas/InitialInvestment'
            reserve_monthly_amount:
              $ref: '#/components/schemas/ReserveMonthlyAmount'
            increased_amount_at_bonus:
              allOf:
                - $ref: '#/components/schemas/IncreasedAmountAtBonus'
                - nullable: true
            bonus_months:
              allOf:
                - $ref: '#/components/schemas/BonusMonths'
                - nullable: true
            funds_source:
              $ref: '#/components/schemas/FundsSource'
            percentage_in_financial_assets_over:
              $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
            percentage_in_financial_assets_under:
              $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
            fluctuation_funds_type:
              $ref: '#/components/schemas/FluctuationFundsType'
            fluctuation_funds_amount:
              $ref: '#/components/schemas/FluctuationFundsAmount'
            current_price:
              $ref: '#/components/schemas/CurrentPrice'
            withdrawal_frequency:
              $ref: '#/components/schemas/WithdrawalFrequency'
            withdrawal_amount:
              $ref: '#/components/schemas/WithdrawalAmount'
            asset_management_period_years:
              $ref: '#/components/schemas/AssetManagementPeriodYears'
            asset_management_period_months:
              $ref: '#/components/schemas/AssetManagementPeriodMonths'
            asset_management_start_year:
              $ref: '#/components/schemas/AssetManagementStartYear'
            asset_management_start_month:
              $ref: '#/components/schemas/AssetManagementStartMonth'
            reserve_start_year:
              $ref: '#/components/schemas/ReserveStartYear'
            reserve_start_month:
              $ref: '#/components/schemas/ReserveStartMonth'
            reserve_period_years:
              $ref: '#/components/schemas/ReservePeriodYears'
            reserve_period_months:
              $ref: '#/components/schemas/ReservePeriodMonths'
            withdrawal_start_year:
              $ref: '#/components/schemas/WithdrawalStartYear'
            withdrawal_start_month:
              $ref: '#/components/schemas/WithdrawalStartMonth'
            withdrawal_period_years:
              $ref: '#/components/schemas/WithdrawalPeriodYears'
            withdrawal_period_months:
              $ref: '#/components/schemas/WithdrawalPeriodMonths'
            risk_levels:
              $ref: '#/components/schemas/RiskLevels'
            goal_type:
              $ref: '#/components/schemas/GoalType'

        - $ref: '#/components/schemas/AssetManagementPlanGoalDetailResponse'

    ReserveDeferralWithdrawalFuturePredictionRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - reserve_start_year
        - reserve_start_month
        - reserve_period_years
        - reserve_period_months
        - withdrawal_start_year
        - withdrawal_start_month
        - withdrawal_period_years
        - withdrawal_period_months
        - withdrawal_amount
        - withdrawal_frequency
        - risk_level

      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsType'
            - nullable: true
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true

      example:
        goal_amount: 23000000
        initial_investment: 10000000
        reserve_monthly_amount: 50000
        increased_amount_at_bonus: 200000
        bonus_months:
          - 6
          - 12
        reserve_start_year: 2021
        reserve_start_month: 8
        reserve_period_years: 25
        reserve_period_months: 0
        withdrawal_start_year: 2037
        withdrawal_start_month: 6
        withdrawal_period_years: 20
        withdrawal_period_months: 0
        withdrawal_amount: 360000
        withdrawal_frequency: 'monthly'
        risk_level: 3
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000

    ReserveDeferralWithdrawalFuturePredictionResponse:
      type: object
      required:
        - achievement_probability
        - future_prediction
      properties:
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - nullable: true
        future_return:
          $ref: '#/components/schemas/FutureReturn'
        asset_management_result:
          $ref: '#/components/schemas/AssetManagementResult'
        reserve_total_amount:
          $ref: '#/components/schemas/ReserveTotalAmount'
        withdrawal_total_amount:
          $ref: '#/components/schemas/WithdrawalTotalAmount'
      example:
        achievement_probability: 88
        future_return:
          - percentile: 88
            data: [12, 12, 13]
          - percentile: 90
            data: [13, 14, 15]
          - percentile: 50
            data: [10, 11, 12]
          - percentile: 10
            data: [9, 10, 11]
        asset_management_result: [7, 8, 9, 10]
        reserve_total_amount: 100
        withdrawal_total_amount: 100

    DeferralWithdrawalFuturePredictionRequest:
      type: object
      required:
        - goal_amount
        - initial_investment
        - withdrawal_start_year
        - withdrawal_start_month
        - withdrawal_period_years
        - withdrawal_period_months
        - withdrawal_amount
        - withdrawal_frequency
        - risk_level

      properties:
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsType'
            - nullable: true
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true
      example:
        goal_amount: 23000000
        initial_investment: 10000000
        withdrawal_start_year: 2037
        withdrawal_start_month: 6
        withdrawal_period_years: 20
        withdrawal_period_months: 0
        withdrawal_amount: 360000
        withdrawal_frequency: 'monthly'
        risk_level: 3
        fluctuation_funds_type: 'increase'
        fluctuation_funds_amount: 5000000

    DeferralWithdrawalFuturePredictionResponse:
      type: object
      required:
        - value
      properties:
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - nullable: true
        future_return:
          $ref: '#/components/schemas/FutureReturn'
        asset_management_result:
          $ref: '#/components/schemas/AssetManagementResult'
        reserve_total_amount:
          $ref: '#/components/schemas/ReserveTotalAmount'
        withdrawal_total_amount:
          $ref: '#/components/schemas/WithdrawalTotalAmount'
      example:
        achievement_probability: 88
        future_return:
          - percentile: 88
            data: [12, 12, 13]
          - percentile: 90
            data: [13, 14, 15]
          - percentile: 50
            data: [10, 11, 12]
          - percentile: 10
            data: [9, 10, 11]
        asset_management_result: [7, 8, 9, 10]
        reserve_total_amount: null
        withdrawal_total_amount: 100

    DeferralWithdrawalDetailResponse:
      allOf:
        - type: object
        - required:
            - name
            - starts_at
            - scheduled_for
            - goal_amount
            - initial_investment
            - withdrawal_period_years
            - withdrawal_period_months
            - withdrawal_start_year
            - withdrawal_start_month
            - withdrawal_frequency
            - withdrawal_amount
            - asset_management_period_years
            - asset_management_period_months
            - asset_management_start_year
            - asset_management_start_month
            - fluctuation_funds_type
            - fluctuation_funds_amount
            - current_price
            - risk_levels
            - goal_type
        - properties:
            name:
              $ref: '#/components/schemas/GoalName'
            starts_at:
              $ref: '#/components/schemas/RetirementPlanStartAge'
            scheduled_for:
              $ref: '#/components/schemas/RetirementPlanPeriod'
            goal_amount:
              allOf:
                - $ref: '#/components/schemas/GoalAmount'
                - nullable: true
            initial_investment:
              allOf:
                - $ref: '#/components/schemas/InitialInvestment'
                - nullable: true
            withdrawal_period_years:
              allOf:
                - $ref: '#/components/schemas/WithdrawalPeriodYears'
            withdrawal_period_months:
              allOf:
                - $ref: '#/components/schemas/WithdrawalPeriodMonths'
            withdrawal_start_year:
              allOf:
                - $ref: '#/components/schemas/WithdrawalStartYear'
                - nullable: true
            withdrawal_start_month:
              allOf:
                - $ref: '#/components/schemas/WithdrawalStartMonth'
                - nullable: true
            withdrawal_frequency:
              allOf:
                - $ref: '#/components/schemas/WithdrawalFrequency'
                - default: '""'
            withdrawal_amount:
              allOf:
                - $ref: '#/components/schemas/WithdrawalAmount'
                - nullable: true
            asset_management_period_years:
              $ref: '#/components/schemas/AssetManagementPeriodYears'
            asset_management_period_months:
              $ref: '#/components/schemas/AssetManagementPeriodMonths'
            asset_management_start_year:
              $ref: '#/components/schemas/AssetManagementStartYear'
            asset_management_start_month:
              $ref: '#/components/schemas/AssetManagementStartMonth'
            fluctuation_funds_type:
              $ref: '#/components/schemas/FluctuationFundsType'
            fluctuation_funds_amount:
              $ref: '#/components/schemas/FluctuationFundsAmount'
            current_price:
              $ref: '#/components/schemas/CurrentPrice'
            risk_levels:
              $ref: '#/components/schemas/RiskLevels'
            goal_type:
              $ref: '#/components/schemas/GoalType'
        - $ref: '#/components/schemas/AssetManagementPlanGoalDetailResponse'

    GoalCreationResponse:
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/GoalId'
      example:
        id: '21135982-a2a5-41ed-a9a1-17e74a6debb0'

    ContractDetailResponse:
      oneOf:
        - $ref: '#/components/schemas/DeferralContractDetailResponse'
        - $ref: '#/components/schemas/ReserveContractDetailResponse'
        - $ref: '#/components/schemas/DeferralWithdrawalContractDetailResponse'
        - $ref: '#/components/schemas/ReserveDeferralWithdrawalContractDetailResponse'

    DeferralContractDetailResponse:
      type: object
      required:
        - name
        - plan_type
        - initial_investment
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - goal_amount
        - asset_management_period_years
        - asset_management_period_months
        - risk_level
        - fluctuation_funds_type
        - fluctuation_funds_amount
        - asset_management_start_year
        - asset_management_start_month
        - reserve_status
        - withdrawal_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        plan_type:
          $ref: '#/components/schemas/PlanType'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true
        asset_management_start_year:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartYear'
            - nullable: true
        asset_management_start_month:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartMonth'
            - nullable: true
        reserve_status:
          allOf:
            - $ref: '#/components/schemas/ReserveStatus'
            - nullable: true
        withdrawal_status:
          allOf:
            - $ref: '#/components/schemas/WithDrawalStatus'
            - nullable: true

    ReserveContractDetailResponse:
      type: object
      required:
        - name
        - plan_type
        - initial_investment
        - funds_source
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - goal_amount
        - reserve_period_years
        - reserve_period_months
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - reserve_start_year
        - reserve_start_month
        - asset_management_period_years
        - asset_management_period_months
        - risk_level
        - fluctuation_funds_type
        - fluctuation_funds_amoun
        - asset_management_start_year
        - asset_management_start_month
        - reserve_status
        - withdrawal_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        plan_type:
          $ref: '#/components/schemas/PlanType'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        asset_management_period_years:
          $ref: '#/components/schemas/AssetManagementPeriodYears'
        asset_management_period_months:
          $ref: '#/components/schemas/AssetManagementPeriodMonths'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true
        asset_management_start_year:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartYear'
            - nullable: true
        asset_management_start_month:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartMonth'
            - nullable: true
        reserve_status:
          allOf:
            - $ref: '#/components/schemas/ReserveStatus'
            - nullable: true
        withdrawal_status:
          allOf:
            - $ref: '#/components/schemas/WithDrawalStatus'
            - nullable: true

    DeferralWithdrawalContractDetailResponse:
      type: object
      required:
        - name
        - plan_type
        - initial_investment
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - funds_source
        - goal_amount
        - withdrawal_period_years
        - withdrawal_period_months
        - withdrawal_frequency
        - withdrawal_amount
        - withdrawal_start_year
        - withdrawal_start_month
        - risk_level
        - fluctuation_funds_type
        - fluctuation_funds_amount
        - asset_management_start_year
        - asset_management_start_month
        - reserve_status
        - withdrawal_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        plan_type:
          $ref: '#/components/schemas/PlanType'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true
        asset_management_start_year:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartYear'
            - nullable: true
        asset_management_start_month:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartMonth'
            - nullable: true
        reserve_status:
          allOf:
            - $ref: '#/components/schemas/ReserveStatus'
            - nullable: true
        withdrawal_status:
          allOf:
            - $ref: '#/components/schemas/WithDrawalStatus'
            - nullable: true

    ReserveDeferralWithdrawalContractDetailResponse:
      type: object
      required:
        - name
        - plan_type
        - initial_investment
        - percentage_in_financial_assets_over
        - percentage_in_financial_assets_under
        - funds_source
        - goal_amount
        - reserve_period_years
        - reserve_period_months
        - reserve_monthly_amount
        - increased_amount_at_bonus
        - bonus_months
        - reserve_start_year
        - reserve_start_month
        - withdrawal_period_years
        - withdrawal_period_months
        - withdrawal_frequency
        - withdrawal_amount
        - withdrawal_start_year
        - withdrawal_start_month
        - risk_level
        - fluctuation_funds_type
        - fluctuation_funds_amount
        - asset_management_start_year
        - asset_management_start_month
        - reserve_status
        - withdrawal_status
      properties:
        name:
          $ref: '#/components/schemas/GoalName'
        plan_type:
          $ref: '#/components/schemas/PlanType'
        initial_investment:
          $ref: '#/components/schemas/InitialInvestment'
        funds_source:
          $ref: '#/components/schemas/FundsSource'
        percentage_in_financial_assets_over:
          $ref: '#/components/schemas/PercentageInFinancialAssetsOver'
        percentage_in_financial_assets_under:
          $ref: '#/components/schemas/PercentageInFinancialAssetsUnder'
        goal_amount:
          $ref: '#/components/schemas/GoalAmount'
        reserve_period_years:
          $ref: '#/components/schemas/ReservePeriodYears'
        reserve_period_months:
          $ref: '#/components/schemas/ReservePeriodMonths'
        reserve_monthly_amount:
          $ref: '#/components/schemas/ReserveMonthlyAmount'
        increased_amount_at_bonus:
          allOf:
            - $ref: '#/components/schemas/IncreasedAmountAtBonus'
            - nullable: true
        bonus_months:
          allOf:
            - $ref: '#/components/schemas/BonusMonths'
            - nullable: true
        reserve_start_year:
          $ref: '#/components/schemas/ReserveStartYear'
        reserve_start_month:
          $ref: '#/components/schemas/ReserveStartMonth'
        withdrawal_period_years:
          $ref: '#/components/schemas/WithdrawalPeriodYears'
        withdrawal_period_months:
          $ref: '#/components/schemas/WithdrawalPeriodMonths'
        withdrawal_frequency:
          $ref: '#/components/schemas/WithdrawalFrequency'
        withdrawal_amount:
          $ref: '#/components/schemas/WithdrawalAmount'
        withdrawal_start_year:
          $ref: '#/components/schemas/WithdrawalStartYear'
        withdrawal_start_month:
          $ref: '#/components/schemas/WithdrawalStartMonth'
        risk_level:
          $ref: '#/components/schemas/RiskLevel'
        fluctuation_funds_type:
          $ref: '#/components/schemas/FluctuationFundsType'
        fluctuation_funds_amount:
          allOf:
            - $ref: '#/components/schemas/FluctuationFundsAmount'
            - nullable: true
        asset_management_start_year:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartYear'
            - nullable: true
        asset_management_start_month:
          allOf:
            - $ref: '#/components/schemas/AssetManagementStartMonth'
            - nullable: true
        reserve_status:
          allOf:
            - $ref: '#/components/schemas/ReserveStatus'
            - nullable: true
        withdrawal_status:
          allOf:
            - $ref: '#/components/schemas/WithDrawalStatus'
            - nullable: true

    CustomerTypeResponse:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/CustomerType'

    CustomerNisaResponse:
      type: object
      required:
        - nisaFrames
      description: |
        NISA利用枠情報。
      properties:
        nisaFrames:
          type: array
          default: []
          description: |
            顧客のNISA利用枠情報を含む配列。
          items:
            type: object
            required:
              - growth
              - life_growth
              - life_all
              - year
            properties:
              year:
                type: number
              growth:
                $ref: '#/components/schemas/Growth'
              life_growth:
                $ref: '#/components/schemas/LifeGrowth'
              life_all:
                $ref: '#/components/schemas/LifeAll'
      example:
        nisaFrames:
          - year: 2024
            growth: 2400000
            life_growth: 18000000
            life_all: 12000000
          - year: 2023
            growth: null
            life_growth: null
            life_all: null

    SummaryResponse:
      type: object
      required:
        - follow_up_rate
        - fund_deposit
        - customers
        - goals
      properties:
        follow_up_rate:
          $ref: '#/components/schemas/FollowUpRate'
        fund_deposit:
          $ref: '#/components/schemas/FundDeposit'
        customers:
          type: object
          required:
            - total_potential_customers
            - total_account_opened
            - total_available_contract
            - total_under_contract
            - total_account_registration_failure
          properties:
            total_potential_customers:
              $ref: '#/components/schemas/TotalPotentialCustomers'
            total_account_opened:
              $ref: '#/components/schemas/TotalAccountOpened'
            total_available_contract:
              $ref: '#/components/schemas/TotalAvailableContract'
            total_under_contract:
              $ref: '#/components/schemas/TotalUnderContract'
            total_account_registration_failure:
              $ref: '#/components/schemas/TotalAccountRegistrationFailure'
        goals:
          type: object
          required:
            - total_before_contract_goals
            - total_under_operation_goals
            - total_contract_terminated_goals
          properties:
            total_before_contract_goals:
              $ref: '#/components/schemas/TotalBeforeContractGoals'
            total_under_operation_goals:
              $ref: '#/components/schemas/TotalUnderOperationGoals'
            total_contract_terminated_goals:
              $ref: '#/components/schemas/TotalContractTerminatedGoals'
      example:
        follow_up_rate: 81
        fund_deposit: 80923
        customers:
          total_potential_customers: 100
          total_account_opening_customers: 100
          total_available_contract: 100
          total_under_contract: 100
          total_account_registration_failure: 100
        goals:
          total_before_contract_goals: 32
          total_under_operation_goals: 268
          total_contract_terminated_goals: 13

    CustomerSummaryResponse:
      allOf:
        - $ref: '#/components/schemas/SummaryResponse'
        - type: object
          required:
            - branch_name
            - advisory_channel_name
          properties:
            branch_name:
              $ref: '#/components/schemas/BranchName'
            advisory_channel_name:
              $ref: '#/components/schemas/AdvisoryChannelName'
          example:
            branch_name: 日本橋室町
            advisory_channel_name: 北高穂生命保険

    FasSummaryResponse:
      allOf:
        - $ref: '#/components/schemas/SummaryResponse'
        - type: object
          required:
            - total_fas
            - branch_name
            - advisory_channel_name
          properties:
            total_fas:
              $ref: '#/components/schemas/TotalFas'
            branch_name:
              $ref: '#/components/schemas/BranchName'
            advisory_channel_name:
              $ref: '#/components/schemas/AdvisoryChannelName'
          example:
            total_fas: 127
            branch_name: 日本橋室町
            advisory_channel_name: 北高穂生命保険

    BranchesSummaryResponse:
      allOf:
        - $ref: '#/components/schemas/SummaryResponse'
        - type: object
          required:
            - total_branches
            - total_fas
            - advisory_channel_name
          properties:
            total_branches:
              $ref: '#/components/schemas/TotalBranches'
            total_fas:
              $ref: '#/components/schemas/TotalFas'
            advisory_channel_name:
              $ref: '#/components/schemas/AdvisoryChannelName'
          example:
            total_branches: 153
            total_fas: 627
            advisory_channel_name: 北高穂生命保険

    AdvisoryChannelListResponse:
      type: object
      required:
        - advisory_channels
      description: |
        テナントのアドバイザー会社一覧オブジェクト。
      properties:
        advisory_channels:
          type: array
          description: |
            アドバイザー会社一覧。アドバイザー会社がない場合は空配列。
          items:
            type: object
            required:
              - tenant_id
              - advisory_channel_id
              - advisory_channel_name
            properties:
              tenant_id:
                $ref: '#/components/schemas/TenantId'
              advisory_channel_id:
                $ref: '#/components/schemas/AdvisoryChannelId'
              advisory_channel_name:
                $ref: '#/components/schemas/AdvisoryChannelName'
              total_summary_customers:
                $ref: '#/components/schemas/TotalSummaryCustomers'
              total_summary_potential_customers:
                $ref: '#/components/schemas/TotalSummaryPotentialCustomers'
              total_summary_concluded_contracts:
                $ref: '#/components/schemas/TotalSummaryConcludedContracts'

    BranchListResponse:
      type: object
      required:
        - branches
        - total_branches
      description: |
        アドバイザー会社の部店一覧オブジェクト。
      properties:
        branches:
          type: array
          description: |
            部店一覧。部店がない場合は空配列。
          items:
            type: object
            required:
              - tenant_id
              - advisory_channel_id
              - advisory_channel_name
              - branch_id
              - branch_name
              - total_summary_customers
              - total_summary_potential_customers
              - total_summary_concluded_contracts
            properties:
              tenant_id:
                $ref: '#/components/schemas/TenantId'
              advisory_channel_id:
                $ref: '#/components/schemas/AdvisoryChannelId'
              advisory_channel_name:
                $ref: '#/components/schemas/AdvisoryChannelName'
              branch_id:
                $ref: '#/components/schemas/BranchId'
              branch_name:
                $ref: '#/components/schemas/BranchName'
              total_summary_customers:
                $ref: '#/components/schemas/TotalSummaryCustomers'
              total_summary_potential_customers:
                $ref: '#/components/schemas/TotalSummaryPotentialCustomers'
              total_summary_concluded_contracts:
                $ref: '#/components/schemas/TotalSummaryConcludedContracts'
        total_branches:
          type: number
          description: |
            部店の総数。
        have_not_logged_in_this_month:
          $ref: '#/components/schemas/HaveNotLoggedInThisMonth'

    FaCsvCreationRequest:
      type: object
      required:
        - userName
      properties:
        user_name:
          $ref: '#/components/schemas/UserName'

    CustomerNoteCreationAndUpdateRequest:
      type: object
      required:
        - note
      properties:
        note:
          $ref: '#/components/schemas/Note'

    CustomerCsvCreationRequest:
      type: object
      required:
        - userName
      properties:
        user_name:
          $ref: '#/components/schemas/UserName'

    CustomerNoteDetailResponse:
      type: object
      required:
        - note
      properties:
        note:
          $ref: '#/components/schemas/Note'

    ActivityCreationOrUpdateRequest:
      type: object
      required:
        - title
        - description
        - status
        - priority
        - category
        - answers
      properties:
        title:
          $ref: '#/components/schemas/ActivityTitle'
        description:
          $ref: '#/components/schemas/ActivityDescription'
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        status:
          $ref: '#/components/schemas/ActivityStatus'
        priority:
          $ref: '#/components/schemas/Priority'
        deadline:
          $ref: '#/components/schemas/Deadline'
        category:
          $ref: '#/components/schemas/ActivityCategory'
        goals:
          type: array
          items:
            $ref: '#/components/schemas/GoalId'
        answers:
          $ref: '#/components/schemas/Answers'
      example:
        title: '運用見直しのアポ取り'
        description: '達成確率が下がったゴールの運用を見直すため、打ち合わせのアポを取る'
        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
        status: 'not_started'
        priority: 'high'
        deadline: '2021-07-01T00:00:00.000Z'
        category: 'todo'
        goals:
          - 'd42f4e53-b96f-403c-b295-4f8a70108078'
          - 'd68b9f6b-c2ae-2c02-5599-27f8829cb1a8'
        answers:
          - 'A1-1'
          - 'A2-2'

    ActivityListResponse:
      type: object
      required:
        - activities
        - total_activities
      description: |
        アクティビティ一覧オブジェクト。
      properties:
        activities:
          type: array
          description: |
            アクティビティ一覧。アクティビティが存在しない場合は空配列。
          items:
            type: object
            required:
              - activity_id
              - title
              - status
              - priority
              - tenant_id
              - advisory_channel_id
              - branch_id
              - fa_id
            properties:
              activity_id:
                $ref: '#/components/schemas/ActivityId'
              title:
                $ref: '#/components/schemas/ActivityTitle'
              customer_uuid:
                $ref: '#/components/schemas/CustomerUuid'
              customer_name:
                $ref: '#/components/schemas/CustomerName'
              status:
                $ref: '#/components/schemas/ActivityStatus'
              priority:
                $ref: '#/components/schemas/Priority'
              deadline:
                $ref: '#/components/schemas/Deadline'
              goals:
                type: array
                items:
                  type: object
                  required:
                    - goal_id
                    - goal_name
                  properties:
                    goal_id:
                      $ref: '#/components/schemas/GoalId'
                    goal_name:
                      $ref: '#/components/schemas/GoalName'
              tenant_id:
                $ref: '#/components/schemas/TenantId'
              advisory_channel_id:
                $ref: '#/components/schemas/AdvisoryChannelId'
              branch_id:
                $ref: '#/components/schemas/BranchId'
              fa_id:
                $ref: '#/components/schemas/FaId'
        total_activities:
          type: number
          description: |
            アクティビティの総数。

    ActivityDetailResponse:
      type: object
      required:
        - title
        - description
        - status
        - priority
        - category
        - created_at
        - updated_at
        - tenant_id
        - advisory_channel_id
        - branch_id
        - fa_id
        - answers
      properties:
        title:
          $ref: '#/components/schemas/ActivityTitle'
        description:
          $ref: '#/components/schemas/ActivityDescription'
        status:
          $ref: '#/components/schemas/ActivityStatus'
        priority:
          $ref: '#/components/schemas/Priority'
        deadline:
          $ref: '#/components/schemas/Deadline'
        category:
          $ref: '#/components/schemas/ActivityCategory'
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_type:
          $ref: '#/components/schemas/CustomerType'
        updated_at:
          $ref: '#/components/schemas/ActivityUpdatedAt'
        created_at:
          $ref: '#/components/schemas/ActivityCreatedAt'
        goals:
          type: array
          items:
            type: object
            required:
              - goal_id
              - goal_name
              - goal_type
            properties:
              goal_id:
                $ref: '#/components/schemas/GoalId'
              goal_name:
                $ref: '#/components/schemas/GoalName'
              goal_type:
                $ref: '#/components/schemas/GoalType'
        tenant_id:
          $ref: '#/components/schemas/TenantId'
        advisory_channel_id:
          $ref: '#/components/schemas/AdvisoryChannelId'
        branch_id:
          $ref: '#/components/schemas/BranchId'
        fa_id:
          $ref: '#/components/schemas/FaId'
        answers:
          $ref: '#/components/schemas/Answers'
      example:
        title: '運用見直しのアポ取り'
        description: '達成確率が下がったゴールの運用を見直すため、打ち合わせのアポを取る'
        customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
        customer_name: '伊藤 睦月'
        customer_type: '2'
        status: 'not_started'
        priority: 'high'
        deadline: '2021-07-01T00:00:00.000Z'
        category: 'todo'
        updated_at: '2021-06-01T00:00:00.000Z'
        created_at: '2021-05-01T00:00:00.000Z'
        tenant_id: 'tenant-22-02'
        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
        goals:
          - goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
            goal_name: '次女の大学入学'
            goal_type: 'education'
        answers:
          - 'A1-1'
          - 'A2-2'

    ActivityCreationResponse:
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/ActivityId'
      example:
        activity_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'

    ApplicationRejectCommentRequest:
      type: object
      required:
        - comment
      properties:
        comment:
          $ref: '#/components/schemas/ApplicationRejectComment'

    ApplicationRequest:
      type: object
      required:
        - goal_id
        - achievement_probability
      properties:
        goal_id:
          $ref: '#/components/schemas/GoalId'
        achievement_probability:
          $ref: '#/components/schemas/AchievementProbability'
        contract_method:
          $ref: '#/components/schemas/contractMethod'
        new_nisa:
          $ref: '#/components/schemas/NewNisa'

    TerminationApplicationRequest:
      type: object
      required:
        - goal_id
      properties:
        goal_id:
          $ref: '#/components/schemas/GoalId'
        contract_method:
          $ref: '#/components/schemas/contractMethod'

    ApplicationCancelCommentRequest:
      type: object
      required:
        - comment
      properties:
        comment:
          $ref: '#/components/schemas/ApplicationCancelComment'

    ApprovalApplicationRequest:
      type: object
      required:
        - goals
      properties:
        goals:
          type: array
          items:
            $ref: '#/components/schemas/GoalId'

    ApproveRequest:
      type: object
      required:
        - goals
      properties:
        goals:
          type: array
          items:
            $ref: '#/components/schemas/GoalId'

    ApplicationListResponse:
      type: array
      items:
        type: object
        required:
          - tenant_id
          - advisory_channel_id
          - branch_id
          - fa_id
          - customer_uuid
          - customer_name
          - customer_type
          - goals
          - is_contract_available
          - total_initial_investment
        properties:
          tenant_id:
            $ref: '#/components/schemas/TenantId'
          advisory_channel_id:
            $ref: '#/components/schemas/AdvisoryChannelId'
          branch_id:
            $ref: '#/components/schemas/BranchId'
          fa_id:
            $ref: '#/components/schemas/FaId'
          customer_uuid:
            $ref: '#/components/schemas/CustomerUuid'
          customer_name:
            $ref: '#/components/schemas/CustomerName'
          customer_type:
            $ref: '#/components/schemas/CustomerType'
          goals:
            type: array
            items:
              type: object
              required:
                - application_type
                - goal_type
                - goal_id
                - goal_name
                - created_at
                - initial_investment
              properties:
                application_type:
                  $ref: '#/components/schemas/ApplicationType'
                goal_type:
                  $ref: '#/components/schemas/GoalType'
                goal_id:
                  $ref: '#/components/schemas/GoalId'
                goal_name:
                  $ref: '#/components/schemas/GoalName'
                created_at:
                  $ref: '#/components/schemas/GoalCreatedAt'
                initial_investment:
                  $ref: '#/components/schemas/InitialInvestment'
                achievement_probability:
                  $ref: '#/components/schemas/AchievementProbability'
          is_contract_available:
            $ref: '#/components/schemas/IsContractAvailable'
          total_initial_investment:
            $ref: '#/components/schemas/TotalInitialInvestment'
      example:
        - customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
          customer_name: '伊藤 睦月'
          customer_type: '2'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 3000000
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'a8694fec-ec8c-4979-abb3-b0d352df1eec'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 5000000
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '966e45b2-6a6b-462b-95c1-b4ea6f7f1af2'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 2000000
          is_contract_available: true
          total_initial_investment: 12000000
        - customer_uuid: 'cc624f14-1850-46f1-9996-8fccd3e45b19'
          customer_name: '日本スタンダード・インテリジェンス・マネジメント'
          customer_type: '1'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: '92733c51-8dc1-442b-985f-da04a7780e6b'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'e3263668-42c0-4f7d-a4ee-5549cfe8b3da'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '47e7b517-8425-4d94-a880-f0c54b368852'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
          is_contract_available: false
          total_initial_investment: 9000000

    ApprovalApplicationListResponse:
      type: array
      items:
        type: object
        required:
          - tenant_id
          - advisory_channel_id
          - branch_id
          - fa_id
          - customer_uuid
          - customer_name
          - customer_type
          - goals
          - is_contract_available
          - total_initial_investment
        properties:
          tenant_id:
            $ref: '#/components/schemas/TenantId'
          advisory_channel_id:
            $ref: '#/components/schemas/AdvisoryChannelId'
          branch_id:
            $ref: '#/components/schemas/BranchId'
          fa_id:
            $ref: '#/components/schemas/FaId'
          customer_uuid:
            $ref: '#/components/schemas/CustomerUuid'
          customer_name:
            $ref: '#/components/schemas/CustomerName'
          customer_type:
            $ref: '#/components/schemas/CustomerType'
          goals:
            type: array
            items:
              type: object
              required:
                - application_type
                - goal_type
                - goal_id
                - goal_name
                - created_at
                - initial_investment
                - achievement_probability
              properties:
                application_type:
                  $ref: '#/components/schemas/ApplicationType'
                goal_type:
                  $ref: '#/components/schemas/GoalType'
                goal_id:
                  $ref: '#/components/schemas/GoalId'
                goal_name:
                  $ref: '#/components/schemas/GoalName'
                created_at:
                  $ref: '#/components/schemas/GoalCreatedAt'
                initial_investment:
                  $ref: '#/components/schemas/InitialInvestment'
                achievement_probability:
                  $ref: '#/components/schemas/AchievementProbability'
          is_contract_available:
            $ref: '#/components/schemas/IsContractAvailable'
          total_initial_investment:
            $ref: '#/components/schemas/TotalInitialInvestment'
      example:
        - customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
          customer_name: '伊藤 睦月'
          customer_type: '2'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 3000000
              achievement_probability: 88
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'a8694fec-ec8c-4979-abb3-b0d352df1eec'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 5000000
              achievement_probability: 90
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '966e45b2-6a6b-462b-95c1-b4ea6f7f1af2'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 2000000
              achievement_probability: 75
          is_contract_available: true
          total_initial_investment: 12000000
        - customer_uuid: 'cc624f14-1850-46f1-9996-8fccd3e45b19'
          customer_name: '日本スタンダード・インテリジェンス・マネジメント'
          customer_type: '1'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: '92733c51-8dc1-442b-985f-da04a7780e6b'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 88
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'e3263668-42c0-4f7d-a4ee-5549cfe8b3da'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 90
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '47e7b517-8425-4d94-a880-f0c54b368852'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 75
          is_contract_available: false
          total_initial_investment: 9000000

    PendingApprovalsResponse:
      type: array
      items:
        type: object
        required:
          - tenant_id
          - advisory_channel_id
          - branch_id
          - fa_id
          - customer_uuid
          - customer_name
          - customer_type
          - goals
          - is_contract_available
          - total_initial_investment
        properties:
          tenant_id:
            $ref: '#/components/schemas/TenantId'
          advisory_channel_id:
            $ref: '#/components/schemas/AdvisoryChannelId'
          branch_id:
            $ref: '#/components/schemas/BranchId'
          fa_id:
            $ref: '#/components/schemas/FaId'
          customer_uuid:
            $ref: '#/components/schemas/CustomerUuid'
          customer_name:
            $ref: '#/components/schemas/CustomerName'
          customer_type:
            $ref: '#/components/schemas/CustomerType'
          goals:
            type: array
            items:
              type: object
              required:
                - application_type
                - goal_type
                - goal_id
                - goal_name
                - created_at
                - initial_investment
                - achievement_probability
              properties:
                application_type:
                  $ref: '#/components/schemas/ApplicationType'
                goal_type:
                  $ref: '#/components/schemas/GoalType'
                goal_id:
                  $ref: '#/components/schemas/GoalId'
                goal_name:
                  $ref: '#/components/schemas/GoalName'
                created_at:
                  $ref: '#/components/schemas/GoalCreatedAt'
                initial_investment:
                  $ref: '#/components/schemas/InitialInvestment'
                achievement_probability:
                  $ref: '#/components/schemas/AchievementProbability'
          is_contract_available:
            $ref: '#/components/schemas/IsContractAvailable'
          total_initial_investment:
            $ref: '#/components/schemas/TotalInitialInvestment'
      example:
        - customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
          customer_name: '伊藤 睦月'
          customer_type: '2'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 3000000
              achievement_probability: 88
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'a8694fec-ec8c-4979-abb3-b0d352df1eec'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 5000000
              achievement_probability: 90
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '966e45b2-6a6b-462b-95c1-b4ea6f7f1af2'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 2000000
              achievement_probability: 75
          is_contract_available: true
          total_initial_investment: 12000000
        - customer_uuid: 'cc624f14-1850-46f1-9996-8fccd3e45b19'
          customer_name: '日本スタンダード・インテリジェンス・マネジメント'
          customer_type: '1'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: '92733c51-8dc1-442b-985f-da04a7780e6b'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 88
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'e3263668-42c0-4f7d-a4ee-5549cfe8b3da'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 90
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '47e7b517-8425-4d94-a880-f0c54b368852'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
              achievement_probability: 75
          is_contract_available: false
          total_initial_investment: 9000000

    ApplicationDetailResponse:
      type: array
      items:
        type: object
        required:
          - customer_uuid
          - customer_name
          - tenant_id
          - advisory_channel_id
          - branch_id
          - fa_id
          - goals
        properties:
          customer_uuid:
            $ref: '#/components/schemas/CustomerUuid'
          customer_name:
            $ref: '#/components/schemas/CustomerName'
          fa_id:
            $ref: '#/components/schemas/FaId'
          tenant_id:
            $ref: '#/components/schemas/TenantId'
          advisory_channel_id:
            $ref: '#/components/schemas/AdvisoryChannelId'
          branch_id:
            $ref: '#/components/schemas/BranchId'
          goals:
            type: array
            items:
              type: object
              required:
                - application_type
                - goal_id
                - goal_name
                - goal_type
                - created_at
                - initial_investment
              properties:
                application_type:
                  $ref: '#/components/schemas/ApplicationType'
                goal_type:
                  $ref: '#/components/schemas/GoalType'
                goal_id:
                  $ref: '#/components/schemas/GoalId'
                goal_name:
                  $ref: '#/components/schemas/GoalName'
                created_at:
                  $ref: '#/components/schemas/GoalCreatedAt'
                initial_investment:
                  $ref: '#/components/schemas/InitialInvestment'
      example:
        - customer_uuid: 'd010957d-9ef5-4553-8147-f1b4551bafdb'
          customer_name: '伊藤 睦月'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 3000000
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'a8694fec-ec8c-4979-abb3-b0d352df1eec'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 5000000
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '966e45b2-6a6b-462b-95c1-b4ea6f7f1af2'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 2000000
        - customer_uuid: 'cc624f14-1850-46f1-9996-8fccd3e45b19'
          customer_name: '日本スタンダード・インテリジェンス・マネジメント'
          fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
          tenant_id: 'tenant-22-02'
          advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
          branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
          goals:
            - application_type: 'new_contract'
              goal_type: 'education'
              goal_id: '92733c51-8dc1-442b-985f-da04a7780e6b'
              goal_name: '長女の大学入学'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
            - application_type: 'new_contract'
              goal_type: 'retirement_plan'
              goal_id: 'e3263668-42c0-4f7d-a4ee-5549cfe8b3da'
              goal_name: '充実したセカンドライフ'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000
            - application_type: 'new_contract'
              goal_type: 'renovation'
              goal_id: '47e7b517-8425-4d94-a880-f0c54b368852'
              goal_name: '素敵なリフォーム'
              created_at: '2021-07-01T00:00:00.000Z'
              initial_investment: 6000000

    AlertListResponse:
      type: object
      required:
        - alerts
        - total_alerts
        - tenant_id
        - advisory_channel_id
        - branch_id
        - fa_id
      properties:
        alerts:
          type: array
          items:
            type: object
            required:
              - alert_id
              - alert_type
              - alert_status
              - alert_created_at
              - customer_uuid
              - customer_name
              - goal_id
              - goal_name
              - achievement_probability
              - goal_achievement_degree
            properties:
              alert_id:
                $ref: '#/components/schemas/AlertId'
              alert_type:
                $ref: '#/components/schemas/AlertType'
              alert_status:
                $ref: '#/components/schemas/AlertStatus'
              alert_created_at:
                $ref: '#/components/schemas/AlertCreatedAt'
              customer_uuid:
                $ref: '#/components/schemas/CustomerUuid'
              customer_name:
                $ref: '#/components/schemas/CustomerName'
              goal_id:
                allOf:
                  - $ref: '#/components/schemas/GoalId'
                  - nullable: true
              goal_name:
                allOf:
                  - $ref: '#/components/schemas/GoalName'
                  - nullable: true
              achievement_probability:
                allOf:
                  - $ref: '#/components/schemas/AchievementProbability'
                  - nullable: true
              goal_achievement_degree:
                allOf:
                  - $ref: '#/components/schemas/GoalAchievementDegree'
                  - nullable: true
        total_alerts:
          type: number
          description: |
            アラートの総数。
        tenant_id:
          $ref: '#/components/schemas/TenantId'
        advisory_channel_id:
          $ref: '#/components/schemas/AdvisoryChannelId'
        branch_id:
          $ref: '#/components/schemas/BranchId'
        fa_id:
          $ref: '#/components/schemas/FaId'
      example:
        alerts:
          - alert_id: '459e8666-4fec-45b1-af37-a26fc28e2b7a'
            alert_type: 'achievement_probability_danger_zone'
            alert_status: 'open'
            alert_created_at: '2021-07-01T00:00:00.000Z'
            customer_uuid: 'a152d716-6a6c-4832-af54-a487581c999b'
            customer_name: '伊藤睦月'
            goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
            goal_name: 次女の大学入学
            achievement_probability: 69
            goal_achievement_degree: 67
        total_alerts: 20
        tenant_id: 'tenant-22-02'
        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'

    AlertDetailResponse:
      type: object
      required:
        - alert_type
        - alert_status
        - alert_created_at
        - alert_description
        - goal_id
        - goal_name
        - goal_type
        - customer_uuid
        - customer_name
        - customer_type
        - tenant_id
        - advisory_channel_id
        - branch_id
        - fa_id
        - achievement_probability
        - goal_achievement_degree
      properties:
        alert_type:
          $ref: '#/components/schemas/AlertType'
        alert_status:
          $ref: '#/components/schemas/AlertStatus'
        alert_created_at:
          $ref: '#/components/schemas/AlertCreatedAt'
        alert_description:
          $ref: '#/components/schemas/AlertDescription'
        goal_id:
          allOf:
            - $ref: '#/components/schemas/GoalId'
            - nullable: true
        goal_type:
          allOf:
            - $ref: '#/components/schemas/GoalType'
            - nullable: true
        goal_name:
          allOf:
            - $ref: '#/components/schemas/GoalName'
            - nullable: true
        customer_uuid:
          $ref: '#/components/schemas/CustomerUuid'
        customer_name:
          $ref: '#/components/schemas/CustomerName'
        customer_type:
          $ref: '#/components/schemas/CustomerType'
        tenant_id:
          $ref: '#/components/schemas/TenantId'
        advisory_channel_id:
          $ref: '#/components/schemas/AdvisoryChannelId'
        branch_id:
          $ref: '#/components/schemas/BranchId'
        fa_id:
          $ref: '#/components/schemas/FaId'
        achievement_probability:
          allOf:
            - $ref: '#/components/schemas/AchievementProbability'
            - nullable: true
        goal_achievement_degree:
          allOf:
            - $ref: '#/components/schemas/GoalAchievementDegree'
            - nullable: true
      example:
        alert_type: 'achievement_probability_danger_zone'
        alert_status: 'open'
        alert_created_at: '2021-07-01T00:00:00.000Z'
        alert_description: '達成確率が危険域に入りました。達成確率が安全域に収まるように、お客様と運用の見直しを実施して下さい。'
        goal_id: 'd42f4e53-b96f-403c-b295-4f8a70108078'
        goal_type: donation
        goal_name: 次女の大学入学
        customer_uuid: 'a152d716-6a6c-4832-af54-a487581c999b'
        customer_name: '伊藤睦月'
        customer_type: '2'
        tenant_id: 'tenant-22-02'
        advisory_channel_id: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'
        branch_id: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'
        fa_id: '5d9bfa3f-c78f-444c-bf62-11c28f7f7518'
        achievement_probability: 69
        goal_achievement_degree: 67

    AfterFollowHistoryCreationRequest:
      type: object
      required:
        - after_follow_type
        - after_follow_history_year
        - after_follow_history_month
      properties:
        after_follow_type:
          $ref: '#/components/schemas/AfterFollowTypes'
        after_follow_history_year:
          $ref: '#/components/schemas/AfterFollowHistoryYear'
        after_follow_history_month:
          $ref: '#/components/schemas/AfterFollowHistoryMonth'
      example:
        after_follow_type: 'meeting'
        after_follow_history_year: 2023
        after_follow_history_month: 12

    AfterFollowHistoryListResponse:
      type: array
      items:
        type: object
        required:
          - after_follow_type
          - alert_type
        properties:
          after_follow_type:
            $ref: '#/components/schemas/AfterFollowTypes'
          status:
            $ref: '#/components/schemas/AfterFollowStatus'

      description: |
        API実行年の1月から12月のアフターフォローの履歴を表す12要素の配列

    AfterFollowHistoryDeleteRequest:
      type: object
      required:
        - after_follow_history_year
        - after_follow_history_month
      properties:
        after_follow_history_year:
          $ref: '#/components/schemas/AfterFollowHistoryYear'
        after_follow_history_month:
          $ref: '#/components/schemas/AfterFollowHistoryMonth'
      example:
        after_follow_history_year: 2023
        after_follow_history_month: 12

    SelectTypeFilter:
      allOf:
        - $ref: '../../packages/app/src/modules/constants/snippets/tenantenv-select-types.json'
        - type: string
          description: |
            マルチテナント取得タイプ。

    ReserveStatus:
      type: number
      minimum: 1
      maximum: 3
      description: |
        積立の状態。

    WithDrawalStatus:
      type: number
      minimum: 1
      maximum: 3
      description: |
        引出の状態。

  parameters:
    TenantId:
      name: tenant_id
      description: |
        テナントのID。
      in: path
      required: true
      schema:
        type: string
      example: 'cm'

    AdvisoryChannelId:
      name: advisory_channel_id
      description: |
        アドバイザリーチャネルのID。
      in: path
      required: true
      schema:
        type: string
        format: uuid
      example: 'a5f6bf08-1fd8-4ec6-8fd2-b3e35a67d9ca'

    BranchId:
      name: branch_id
      description: |
        部店のID。
      in: path
      required: true
      schema:
        type: string
        format: uuidV4
      example: 'e21d1acb-790c-4c1e-8cb6-2f0528a1d29e'

    FaId:
      name: fa_id
      description: |
        FAのID。
      in: path
      required: true
      schema:
        type: string
        format: uuidV4

    CustomerUuid:
      name: customer_uuid
      in: path
      description: |
        顧客のID。
      required: true
      schema:
        type: string
        format: uuidV4

    GoalId:
      name: goal_id
      in: path
      description: |
        ゴールのID。
      required: true
      schema:
        type: string
        format: uuidV4

    ActivityId:
      name: activity_id
      in: path
      description: |
        アクティビティのID。
      required: true
      schema:
        type: string
        format: uuidV4

    AlertId:
      name: alert_id
      in: path
      description: |
        アラートのID。
      required: true
      schema:
        type: string
        format: uuidV4

    DocumentName:
      name: document_name
      in: path
      description: |
        ドキュメントの名前。
      required: true
      schema:
        type: string

    PostCode:
      name: post_code
      in: query
      description: |
        郵便番号。
      required: true
      schema:
        type: string
